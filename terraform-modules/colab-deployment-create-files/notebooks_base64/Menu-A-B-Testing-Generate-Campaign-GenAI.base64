{"commitMetadata": {"author": {"name": "Google Data Bean","emailAddress": "no-reply@google.com"},"commitMessage": "Committing Colab notebook"},"fileOperations": {"content.ipynb": {"writeFile": {"contents" : "ewogICJjZWxscyI6IFsKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiazZlSXFlckZPenlqIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyA8aW1nIHNyYz1cImh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9tVVRiTkszMmNfRFRTTnJocUVUVDVhUUpZRktvazJIQjFHMm5rMk1aSHZHNWJTczB2X2xtRG1fQXJXN3JnZDZTREdIWG8wQWsydUZGVTk2WDZYZDBHUT13MTYwLWgxMjhcIiB3aWR0aD1cIjQ1XCIgdmFsaWduPVwidG9wXCIgYWx0PVwiQmlnUXVlcnlcIj4gR2VuZXJhdGluZyBBL0IgTWVudSBNYXJrZXRpbmcgQ2FtcGFpZ24gdXNpbmcgR2VtaW5pIFByb1xuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICIydVZudmZ3REIzLXIiCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyBMaWNlbnNlIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJFbC14Q0tYQkIzLXIiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiIsCiAgICAgICAgIiMgQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuIiwKICAgICAgICAiI1xuIiwKICAgICAgICAiIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuIiwKICAgICAgICAiIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4iLAogICAgICAgICIjIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuIiwKICAgICAgICAiI1xuIiwKICAgICAgICAiIyAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuIiwKICAgICAgICAiI1xuIiwKICAgICAgICAiIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4iLAogICAgICAgICIjIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiIsCiAgICAgICAgIiMgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4iLAogICAgICAgICIjIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiIsCiAgICAgICAgIiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4iLAogICAgICAgICIjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAibXNxSDFGbm1CMy1zIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyMgTm90ZWJvb2sgT3ZlcnZpZXciCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAibWFya2Rvd24iLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIlV6ZENUMkpkQjMtcyIKICAgICAgfSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiLSBUaGlzIG5vdGVib29rIHdpbGwgY3JlYXRlIG5ldyBhIG1hcmtldGluZyBjYW1wYWlnbiBmb3IgbmV3bHkgZ2VuZXJhdGVkIGl0ZW1zIGluIHRoZSBtZW51X2FfYl90ZXN0aW5nIHRhYmxlLiAgWW91IGNhbiBydW4gdGhlIFwiTWVudS1BLUItVGVzdGluZy1HZW5lcmF0ZS1JbnNpZ2h0LUdlbkFJXCIgbm90ZWJvb2sgZmlyc3QgaWYgeW91IGxpa2UuXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIi0gTm90ZWJvb2sgTG9naWM6XG4iLAogICAgICAgICIgICAgMS4gQ3JlYXRlIGEgcHJvbXB0IGZvciBvdXIgbWFya2V0aW5nIGNhbXBhaWduIGFuZCBzdG9yZSBpdCBpbiB0aGUgdGFibGUuXG4iLAogICAgICAgICIgICAgMi4gUnVuIEdlbWluaSBQcm8gb24gdGhlIHByb21wdCBhbmQgc2F2ZSB0aGUgcmVzdWx0cy5cbiIsCiAgICAgICAgIiAgICAzLiBQYXJzZSB0aGUgZW1iZWRkZWQgSlNPTiBvdXQgb2YgdGhlIHJlc3Bvc2UgYW5kIHNhdmUgYXMgSlNPTlxuIiwKICAgICAgICAiICAgIDQuIENyZWF0ZSBhbiBIVE1MIG1lc3NhZ2Ugd2l0aCBkaWZmZXJlbnQgc2VjdGlvbnNcbiIsCiAgICAgICAgIiAgICA1LiBVcGRhdGUgdGhlIHJlc3VsdHMgdG8gR0NTIGFuZCB1cGRhdGUgdGhlIHRhYmxlLiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiOHp5MGVFSm1IeFJaIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyBJbml0aWFsaXplIFB5dGhvbiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiM3dpcnVUMjY2SDNlIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJwcm9qZWN0X2lkPVwiZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2VcIlxuIiwKICAgICAgICAibG9jYXRpb249XCJ1cy1jZW50cmFsMVwiXG4iLAogICAgICAgICJtb2RlbF9pZCA9IFwiaW1hZ2VnZW5lcmF0aW9uQDAwNVwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiMgTm8gbmVlZCB0byBzZXQgdGhlc2VcbiIsCiAgICAgICAgImNpdHlfbmFtZXM9W1wiTmV3IFlvcmsgQ2l0eVwiLCBcIkxvbmRvblwiLCBcIlRva3lvXCIsIFwiU2FuIEZyYW5jaXNjb1wiXVxuIiwKICAgICAgICAiY2l0eV9pZHM9WzEsMiwzLDRdXG4iLAogICAgICAgICJjaXR5X2xhbmd1YWdlcz1bXCJBbWVyaWNhbiBFbmdsaXNoXCIsIFwiQnJpdGlzaCBFbmdsaXNoXCIsIFwiSmFwYW5lc2VcIiwgXCJBbWVyaWNhbiBFbmdsaXNoXCJdXG4iLAogICAgICAgICJudW1iZXJfb2ZfY29mZmVlX3RydWNrcyA9IFwiNFwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImRhdGFzZXRfaWQgPSBcImRhdGFfYmVhbnNfc3ludGhldGljX2RhdGFcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJnY3Nfc3RvcmFnZV9idWNrZXQgPSBcImRhdGEtYmVhbnMtY3VyYXRlZC1temJlbW1wOHNlXCJcbiIsCiAgICAgICAgImdjc19zdG9yYWdlX3BhdGggPSBcImRhdGEtYmVhbnMvbWVudS1pbWFnZXMtYS1iLXRlc3RpbmcvXCIiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIno0TnBQMHBDSDBwaiIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZnJvbSBQSUwgaW1wb3J0IEltYWdlXG4iLAogICAgICAgICJmcm9tIElQeXRob24uZGlzcGxheSBpbXBvcnQgSFRNTFxuIiwKICAgICAgICAiaW1wb3J0IElQeXRob24uZGlzcGxheVxuIiwKICAgICAgICAiaW1wb3J0IGdvb2dsZS5hdXRoXG4iLAogICAgICAgICJpbXBvcnQgcmVxdWVzdHNcbiIsCiAgICAgICAgImltcG9ydCBqc29uXG4iLAogICAgICAgICJpbXBvcnQgdXVpZFxuIiwKICAgICAgICAiaW1wb3J0IGJhc2U2NFxuIiwKICAgICAgICAiaW1wb3J0IG9zXG4iLAogICAgICAgICJpbXBvcnQgY3YyXG4iLAogICAgICAgICJpbXBvcnQgdGltZVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJmcm9tIGdvb2dsZS5jbG91ZCBpbXBvcnQgYmlncXVlcnlcbiIsCiAgICAgICAgImNsaWVudCA9IGJpZ3F1ZXJ5LkNsaWVudCgpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJZdFp1RmdqYk9qc28iCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIEltYWdlR2VuMiAvIEdlbWluaSBQcm8gLyBHZW1pbmkgUHJvIFZpc2lvbiAoSGVscGVyIEZ1bmN0aW9ucykiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAibWFya2Rvd24iLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogInhVb2xQc01GT2pwWiIKICAgICAgfSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyMjIyBJbWFnZUdlbjIiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIkxQZjZOdXJoTmkybCIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIEltYWdlR2VuKHByb21wdCk6XG4iLAogICAgICAgICIgIGNyZWRzLCBwcm9qZWN0ID0gZ29vZ2xlLmF1dGguZGVmYXVsdCgpXG4iLAogICAgICAgICIgIGF1dGhfcmVxID0gZ29vZ2xlLmF1dGgudHJhbnNwb3J0LnJlcXVlc3RzLlJlcXVlc3QoKSAjIHJlcXVpcmVkIHRvIGFjZXNzIGFjY2VzcyB0b2tlblxuIiwKICAgICAgICAiICBjcmVkcy5yZWZyZXNoKGF1dGhfcmVxKVxuIiwKICAgICAgICAiICBhY2Nlc3NfdG9rZW49Y3JlZHMudG9rZW5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBoZWFkZXJzID0ge1xuIiwKICAgICAgICAiICAgICAgXCJDb250ZW50LVR5cGVcIiA6IFwiYXBwbGljYXRpb24vanNvblwiLFxuIiwKICAgICAgICAiICAgICAgXCJBdXRob3JpemF0aW9uXCIgOiBcIkJlYXJlciBcIiArIGFjY2Vzc190b2tlblxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvZ2VuZXJhdGl2ZS1haS9tb2RlbC1yZWZlcmVuY2UvaW1hZ2UtZ2VuZXJhdGlvblxuIiwKICAgICAgICAiICB1cmwgPSBmXCJodHRwczovL3tsb2NhdGlvbn0tYWlwbGF0Zm9ybS5nb29nbGVhcGlzLmNvbS92MS9wcm9qZWN0cy97cHJvamVjdH0vbG9jYXRpb25zL3tsb2NhdGlvbn0vcHVibGlzaGVycy9nb29nbGUvbW9kZWxzL2ltYWdlZ2VuZXJhdGlvbjpwcmVkaWN0XCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBwYXlsb2FkID0ge1xuIiwKICAgICAgICAiICAgIFwiaW5zdGFuY2VzXCI6IFtcbiIsCiAgICAgICAgIiAgICAgIHtcbiIsCiAgICAgICAgIiAgICAgICAgXCJwcm9tcHRcIjogcHJvbXB0XG4iLAogICAgICAgICIgICAgICB9XG4iLAogICAgICAgICIgICAgXSxcbiIsCiAgICAgICAgIiAgICBcInBhcmFtZXRlcnNcIjoge1xuIiwKICAgICAgICAiICAgICAgXCJzYW1wbGVDb3VudFwiOiAxXG4iLAogICAgICAgICIgICAgfVxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbj1wYXlsb2FkLCBoZWFkZXJzPWhlYWRlcnMpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOlxuIiwKICAgICAgICAiICAgIGltYWdlX2RhdGEgPSBqc29uLmxvYWRzKHJlc3BvbnNlLmNvbnRlbnQpW1wicHJlZGljdGlvbnNcIl1bMF1bXCJieXRlc0Jhc2U2NEVuY29kZWRcIl1cbiIsCiAgICAgICAgIiAgICBpbWFnZV9kYXRhID0gYmFzZTY0LmI2NGRlY29kZShpbWFnZV9kYXRhKVxuIiwKICAgICAgICAiICAgIGZpbGVuYW1lPSBzdHIodXVpZC51dWlkNCgpKSArIFwiLnBuZ1wiXG4iLAogICAgICAgICIgICAgd2l0aCBvcGVuKGZpbGVuYW1lLCBcIndiXCIpIGFzIGY6XG4iLAogICAgICAgICIgICAgICBmLndyaXRlKGltYWdlX2RhdGEpXG4iLAogICAgICAgICIgICAgcHJpbnQoZlwiSW1hZ2UgZ2VuZXJhdGVkIE9LLlwiKVxuIiwKICAgICAgICAiICAgIHJldHVybiBmaWxlbmFtZVxuIiwKICAgICAgICAiICBlbHNlOlxuIiwKICAgICAgICAiICAgIGVycm9yID0gZlwiRXJyb3Igd2l0aCBwcm9tcHQ6J3twcm9tcHR9JyAgU3RhdHVzOid7cmVzcG9uc2Uuc3RhdHVzX2NvZGV9JyBUZXh0Oid7cmVzcG9uc2UudGV4dH0nXCJcbiIsCiAgICAgICAgIiAgICByYWlzZSBSdW50aW1lRXJyb3IoZXJyb3IpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJFNUNGU2RLM0h4WW0iCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgR2VtaW5pIFBybyBMTE0iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIjlqVEJ6Y1NJTWJ3ZyIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIEdlbWluaVByb0xMTShwcm9tcHQsIHRlbXBlcmF0dXJlID0gLjgsIHRvcFAgPSAuOCwgdG9wSyA9IDQwKTpcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBpZiB0ZW1wZXJhdHVyZSA8IDA6XG4iLAogICAgICAgICIgICAgdGVtcGVyYXR1cmUgPSAwXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgY3JlZHMsIHByb2plY3QgPSBnb29nbGUuYXV0aC5kZWZhdWx0KClcbiIsCiAgICAgICAgIiAgYXV0aF9yZXEgPSBnb29nbGUuYXV0aC50cmFuc3BvcnQucmVxdWVzdHMuUmVxdWVzdCgpICMgcmVxdWlyZWQgdG8gYWNlc3MgYWNjZXNzIHRva2VuXG4iLAogICAgICAgICIgIGNyZWRzLnJlZnJlc2goYXV0aF9yZXEpXG4iLAogICAgICAgICIgIGFjY2Vzc190b2tlbj1jcmVkcy50b2tlblxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGhlYWRlcnMgPSB7XG4iLAogICAgICAgICIgICAgICBcIkNvbnRlbnQtVHlwZVwiIDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4iLAogICAgICAgICIgICAgICBcIkF1dGhvcml6YXRpb25cIiA6IFwiQmVhcmVyIFwiICsgYWNjZXNzX3Rva2VuXG4iLAogICAgICAgICIgIH1cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAjIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9nZW5lcmF0aXZlLWFpL21vZGVsLXJlZmVyZW5jZS9nZW1pbmlcbiIsCiAgICAgICAgIiAgdXJsID0gZlwiaHR0cHM6Ly97bG9jYXRpb259LWFpcGxhdGZvcm0uZ29vZ2xlYXBpcy5jb20vdjEvcHJvamVjdHMve3Byb2plY3RfaWR9L2xvY2F0aW9ucy97bG9jYXRpb259L3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscy9nZW1pbmktMi4wLWZsYXNoOnN0cmVhbUdlbmVyYXRlQ29udGVudFwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcGF5bG9hZCA9IHtcbiIsCiAgICAgICAgIiAgICBcImNvbnRlbnRzXCI6IHtcbiIsCiAgICAgICAgIiAgICAgIFwicm9sZVwiOiBcInVzZXJcIixcbiIsCiAgICAgICAgIiAgICAgIFwicGFydHNcIjoge1xuIiwKICAgICAgICAiICAgICAgICAgIFwidGV4dFwiOiBwcm9tcHRcbiIsCiAgICAgICAgIiAgICAgIH0sXG4iLAogICAgICAgICIgICAgfSxcbiIsCiAgICAgICAgIiAgICBcInNhZmV0eV9zZXR0aW5nc1wiOiB7XG4iLAogICAgICAgICIgICAgICBcImNhdGVnb3J5XCI6IFwiSEFSTV9DQVRFR09SWV9TRVhVQUxMWV9FWFBMSUNJVFwiLFxuIiwKICAgICAgICAiICAgICAgXCJ0aHJlc2hvbGRcIjogXCJCTE9DS19MT1dfQU5EX0FCT1ZFXCJcbiIsCiAgICAgICAgIiAgICB9LFxuIiwKICAgICAgICAiICAgIFwiZ2VuZXJhdGlvbl9jb25maWdcIjoge1xuIiwKICAgICAgICAiICAgICAgXCJ0ZW1wZXJhdHVyZVwiOiB0ZW1wZXJhdHVyZSxcbiIsCiAgICAgICAgIiAgICAgIFwidG9wUFwiOiB0b3BQLFxuIiwKICAgICAgICAiICAgICAgXCJ0b3BLXCI6IHRvcEssXG4iLAogICAgICAgICIgICAgICBcIm1heE91dHB1dFRva2Vuc1wiOiA4MTkyLFxuIiwKICAgICAgICAiICAgICAgXCJjYW5kaWRhdGVDb3VudFwiOiAxXG4iLAogICAgICAgICIgICAgfVxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbj1wYXlsb2FkLCBoZWFkZXJzPWhlYWRlcnMpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOlxuIiwKICAgICAgICAiICAgIGpzb25fcmVzcG9uc2UgPSBqc29uLmxvYWRzKHJlc3BvbnNlLmNvbnRlbnQpXG4iLAogICAgICAgICIgICAgbGxtX3Jlc3BvbnNlID0gXCJcIlxuIiwKICAgICAgICAiICAgIGZvciBpdGVtIGluIGpzb25fcmVzcG9uc2U6XG4iLAogICAgICAgICIgICAgICB0cnk6XG4iLAogICAgICAgICIgICAgICAgIGxsbV9yZXNwb25zZSA9IGxsbV9yZXNwb25zZSArIGl0ZW1bXCJjYW5kaWRhdGVzXCJdWzBdW1wiY29udGVudFwiXVtcInBhcnRzXCJdWzBdW1widGV4dFwiXVxuIiwKICAgICAgICAiICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlcnI6XG4iLAogICAgICAgICIgICAgICAgIHByaW50KGZcInJlc3BvbnNlLmNvbnRlbnQ6IHtyZXNwb25zZS5jb250ZW50fVwiKVxuIiwKICAgICAgICAiICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZXJyKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgIyBSZW1vdmUgc29tZSB0eXBpY2FsbHkgcmVzcG9uc2UgY2hhcmFjdGVycyAoaWYgYXNraW5nIGZvciBhIEpTT04gcmVwbHkpXG4iLAogICAgICAgICIgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlLnJlcGxhY2UoXCJgYGBqc29uXCIsXCJcIilcbiIsCiAgICAgICAgIiAgICBsbG1fcmVzcG9uc2UgPSBsbG1fcmVzcG9uc2UucmVwbGFjZShcImBgYFwiLFwiXCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAjIHByaW50KGZcImxsbV9yZXNwb25zZTpcXG57bGxtX3Jlc3BvbnNlfVwiKVxuIiwKICAgICAgICAiICAgIHJldHVybiBsbG1fcmVzcG9uc2VcbiIsCiAgICAgICAgIiAgZWxzZTpcbiIsCiAgICAgICAgIiAgICBlcnJvciA9IGZcIkVycm9yIHdpdGggcHJvbXB0Oid7cHJvbXB0fScgIFN0YXR1czone3Jlc3BvbnNlLnN0YXR1c19jb2RlfScgVGV4dDone3Jlc3BvbnNlLnRleHR9J1wiXG4iLAogICAgICAgICIgICAgcmFpc2UgUnVudGltZUVycm9yKGVycm9yKVxuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICItTDkzdWR0ckgxT3oiCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgR2VtaW5pIFBybyBWaXNpb24gTExNIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJlY3ZyVXlwMEJjWGciCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMgVXNlIHRoZSBHZW1pbmkgd2l0aCBWaXNpb25cbiIsCiAgICAgICAgImRlZiBHZW1pbmlQcm9WaXNpb25MTE0ocHJvbXB0LCBpbWFnZUJhc2U2NCwgdGVtcGVyYXR1cmUgPSAuNCwgdG9wUCA9IDEsIHRvcEsgPSAzMik6XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgaWYgdGVtcGVyYXR1cmUgPCAwOlxuIiwKICAgICAgICAiICAgIHRlbXBlcmF0dXJlID0gMFxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGNyZWRzLCBwcm9qZWN0ID0gZ29vZ2xlLmF1dGguZGVmYXVsdCgpXG4iLAogICAgICAgICIgIGF1dGhfcmVxID0gZ29vZ2xlLmF1dGgudHJhbnNwb3J0LnJlcXVlc3RzLlJlcXVlc3QoKSAjIHJlcXVpcmVkIHRvIGFjZXNzIGFjY2VzcyB0b2tlblxuIiwKICAgICAgICAiICBjcmVkcy5yZWZyZXNoKGF1dGhfcmVxKVxuIiwKICAgICAgICAiICBhY2Nlc3NfdG9rZW49Y3JlZHMudG9rZW5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBoZWFkZXJzID0ge1xuIiwKICAgICAgICAiICAgICAgXCJDb250ZW50LVR5cGVcIiA6IFwiYXBwbGljYXRpb24vanNvblwiLFxuIiwKICAgICAgICAiICAgICAgXCJBdXRob3JpemF0aW9uXCIgOiBcIkJlYXJlciBcIiArIGFjY2Vzc190b2tlblxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvZ2VuZXJhdGl2ZS1haS9tb2RlbC1yZWZlcmVuY2UvZ2VtaW5pXG4iLAogICAgICAgICIgIHVybCA9IGZcImh0dHBzOi8ve2xvY2F0aW9ufS1haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tL3YxL3Byb2plY3RzL3twcm9qZWN0X2lkfS9sb2NhdGlvbnMve2xvY2F0aW9ufS9wdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaDpzdHJlYW1HZW5lcmF0ZUNvbnRlbnRcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHBheWxvYWQgPSB7XG4iLAogICAgICAgICIgIFwiY29udGVudHNcIjogW1xuIiwKICAgICAgICAiICAgICAge1xuIiwKICAgICAgICAiICAgICAgICBcInJvbGVcIjogXCJ1c2VyXCIsXG4iLAogICAgICAgICIgICAgICAgIFwicGFydHNcIjogW1xuIiwKICAgICAgICAiICAgICAgICAgIHtcbiIsCiAgICAgICAgIiAgICAgICAgICAgIFwidGV4dFwiOiBwcm9tcHRcbiIsCiAgICAgICAgIiAgICAgICAgICB9LFxuIiwKICAgICAgICAiICAgICAgICAgIHtcbiIsCiAgICAgICAgIiAgICAgICAgICAgIFwiaW5saW5lRGF0YVwiOiB7XG4iLAogICAgICAgICIgICAgICAgICAgICAgIFwibWltZVR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgXCJkYXRhXCI6IGZcIntpbWFnZUJhc2U2NH1cIlxuIiwKICAgICAgICAiICAgICAgICAgICAgfVxuIiwKICAgICAgICAiICAgICAgICAgIH1cbiIsCiAgICAgICAgIiAgICAgICAgXVxuIiwKICAgICAgICAiICAgICAgfVxuIiwKICAgICAgICAiICAgIF0sXG4iLAogICAgICAgICIgICAgXCJzYWZldHlfc2V0dGluZ3NcIjoge1xuIiwKICAgICAgICAiICAgICAgXCJjYXRlZ29yeVwiOiBcIkhBUk1fQ0FURUdPUllfU0VYVUFMTFlfRVhQTElDSVRcIixcbiIsCiAgICAgICAgIiAgICAgIFwidGhyZXNob2xkXCI6IFwiQkxPQ0tfTE9XX0FORF9BQk9WRVwiXG4iLAogICAgICAgICIgICAgfSxcbiIsCiAgICAgICAgIiAgICBcImdlbmVyYXRpb25fY29uZmlnXCI6IHtcbiIsCiAgICAgICAgIiAgICAgIFwidGVtcGVyYXR1cmVcIjogdGVtcGVyYXR1cmUsXG4iLAogICAgICAgICIgICAgICBcInRvcFBcIjogdG9wUCxcbiIsCiAgICAgICAgIiAgICAgIFwidG9wS1wiOiB0b3BLLFxuIiwKICAgICAgICAiICAgICAgXCJtYXhPdXRwdXRUb2tlbnNcIjogMjA0OCxcbiIsCiAgICAgICAgIiAgICAgIFwiY2FuZGlkYXRlQ291bnRcIjogMVxuIiwKICAgICAgICAiICAgIH1cbiIsCiAgICAgICAgIiAgfVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCh1cmwsIGpzb249cGF5bG9hZCwgaGVhZGVycz1oZWFkZXJzKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDpcbiIsCiAgICAgICAgIiAgICBqc29uX3Jlc3BvbnNlID0ganNvbi5sb2FkcyhyZXNwb25zZS5jb250ZW50KVxuIiwKICAgICAgICAiICAgIGxsbV9yZXNwb25zZSA9IFwiXCJcbiIsCiAgICAgICAgIiAgICBmb3IgaXRlbSBpbiBqc29uX3Jlc3BvbnNlOlxuIiwKICAgICAgICAiICAgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlICsgaXRlbVtcImNhbmRpZGF0ZXNcIl1bMF1bXCJjb250ZW50XCJdW1wicGFydHNcIl1bMF1bXCJ0ZXh0XCJdXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAjIFJlbW92ZSBzb21lIHR5cGljYWxseSByZXNwb25zZSBjaGFyYWN0ZXJzIChpZiBhc2tpbmcgZm9yIGEgSlNPTiByZXBseSlcbiIsCiAgICAgICAgIiAgICBsbG1fcmVzcG9uc2UgPSBsbG1fcmVzcG9uc2UucmVwbGFjZShcImBgYGpzb25cIixcIlwiKVxuIiwKICAgICAgICAiICAgIGxsbV9yZXNwb25zZSA9IGxsbV9yZXNwb25zZS5yZXBsYWNlKFwiYGBgXCIsXCJcIilcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgICMgcHJpbnQoZlwibGxtX3Jlc3BvbnNlOlxcbntsbG1fcmVzcG9uc2V9XCIpXG4iLAogICAgICAgICIgICAgcmV0dXJuIGxsbV9yZXNwb25zZVxuIiwKICAgICAgICAiICBlbHNlOlxuIiwKICAgICAgICAiICAgIGVycm9yID0gZlwiRXJyb3Igd2l0aCBwcm9tcHQ6J3twcm9tcHR9JyAgU3RhdHVzOid7cmVzcG9uc2Uuc3RhdHVzX2NvZGV9JyBUZXh0Oid7cmVzcG9uc2UudGV4dH0nXCJcbiIsCiAgICAgICAgIiAgICByYWlzZSBSdW50aW1lRXJyb3IoZXJyb3IpXG4iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIlFOejZwb2Z2ZlhEUyIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyBVc2UgdGhlIEdlbWluaSB3aXRoIFZpc2lvblxuIiwKICAgICAgICAiZGVmIEdlbWluaVByb1Zpc2lvbk11bHRpcGxlRmlsZUxMTShwcm9tcHQsIGltYWdlX3Byb21wdCwgdGVtcGVyYXR1cmUgPSAuNCwgdG9wUCA9IDEsIHRvcEsgPSAzMik6XG4iLAogICAgICAgICIgIGNyZWRzLCBwcm9qZWN0ID0gZ29vZ2xlLmF1dGguZGVmYXVsdCgpXG4iLAogICAgICAgICIgIGF1dGhfcmVxID0gZ29vZ2xlLmF1dGgudHJhbnNwb3J0LnJlcXVlc3RzLlJlcXVlc3QoKSAjIHJlcXVpcmVkIHRvIGFjZXNzIGFjY2VzcyB0b2tlblxuIiwKICAgICAgICAiICBjcmVkcy5yZWZyZXNoKGF1dGhfcmVxKVxuIiwKICAgICAgICAiICBhY2Nlc3NfdG9rZW49Y3JlZHMudG9rZW5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBoZWFkZXJzID0ge1xuIiwKICAgICAgICAiICAgICAgXCJDb250ZW50LVR5cGVcIiA6IFwiYXBwbGljYXRpb24vanNvblwiLFxuIiwKICAgICAgICAiICAgICAgXCJBdXRob3JpemF0aW9uXCIgOiBcIkJlYXJlciBcIiArIGFjY2Vzc190b2tlblxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvZ2VuZXJhdGl2ZS1haS9tb2RlbC1yZWZlcmVuY2UvZ2VtaW5pXG4iLAogICAgICAgICIgIHVybCA9IGZcImh0dHBzOi8ve2xvY2F0aW9ufS1haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tL3YxL3Byb2plY3RzL3twcm9qZWN0X2lkfS9sb2NhdGlvbnMve2xvY2F0aW9ufS9wdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaDpzdHJlYW1HZW5lcmF0ZUNvbnRlbnRcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcGFydHMgPSBbXVxuIiwKICAgICAgICAiICBuZXdfaXRlbSA9IHtcbiIsCiAgICAgICAgIiAgICAgIFwidGV4dFwiOiBwcm9tcHRcbiIsCiAgICAgICAgIiAgICAgIH1cbiIsCiAgICAgICAgIiAgcGFydHMuYXBwZW5kKG5ld19pdGVtKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGZvciBpdGVtIGluIGltYWdlX3Byb21wdDpcbiIsCiAgICAgICAgIiAgICBuZXdfaXRlbSA9IHtcbiIsCiAgICAgICAgIiAgICAgICAgXCJ0ZXh0XCI6IGZcIkltYWdlIE5hbWU6IHtpdGVtWydsbG1faW1hZ2VfZmlsZW5hbWUnXX06XFxuXCJcbiIsCiAgICAgICAgIiAgICAgICAgfVxuIiwKICAgICAgICAiICAgIHBhcnRzLmFwcGVuZChuZXdfaXRlbSlcbiIsCiAgICAgICAgIiAgICBuZXdfaXRlbSA9IHtcbiIsCiAgICAgICAgIiAgICAgICAgXCJpbmxpbmVEYXRhXCI6IHtcbiIsCiAgICAgICAgIiAgICAgICAgICAgIFwibWltZVR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiIsCiAgICAgICAgIiAgICAgICAgICAgIFwiZGF0YVwiOiBpdGVtW1wibGxtX2ltYWdlX2Jhc2U2NFwiXVxuIiwKICAgICAgICAiICAgICAgICAgICAgfVxuIiwKICAgICAgICAiICAgICAgICB9XG4iLAogICAgICAgICIgICAgcGFydHMuYXBwZW5kKG5ld19pdGVtKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHBheWxvYWQgPSB7XG4iLAogICAgICAgICIgIFwiY29udGVudHNcIjogW1xuIiwKICAgICAgICAiICAgICAge1xuIiwKICAgICAgICAiICAgICAgICBcInJvbGVcIjogXCJ1c2VyXCIsXG4iLAogICAgICAgICIgICAgICAgIFwicGFydHNcIjogcGFydHNcbiIsCiAgICAgICAgIiAgICAgIH1cbiIsCiAgICAgICAgIiAgICBdLFxuIiwKICAgICAgICAiICAgIFwic2FmZXR5X3NldHRpbmdzXCI6IHtcbiIsCiAgICAgICAgIiAgICAgIFwiY2F0ZWdvcnlcIjogXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCIsXG4iLAogICAgICAgICIgICAgICBcInRocmVzaG9sZFwiOiBcIkJMT0NLX0xPV19BTkRfQUJPVkVcIlxuIiwKICAgICAgICAiICAgIH0sXG4iLAogICAgICAgICIgICAgXCJnZW5lcmF0aW9uX2NvbmZpZ1wiOiB7XG4iLAogICAgICAgICIgICAgICBcInRlbXBlcmF0dXJlXCI6IHRlbXBlcmF0dXJlLFxuIiwKICAgICAgICAiICAgICAgXCJ0b3BQXCI6IHRvcFAsXG4iLAogICAgICAgICIgICAgICBcInRvcEtcIjogdG9wSyxcbiIsCiAgICAgICAgIiAgICAgIFwibWF4T3V0cHV0VG9rZW5zXCI6IDIwNDgsXG4iLAogICAgICAgICIgICAgICBcImNhbmRpZGF0ZUNvdW50XCI6IDFcbiIsCiAgICAgICAgIiAgICB9XG4iLAogICAgICAgICIgIH1cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QodXJsLCBqc29uPXBheWxvYWQsIGhlYWRlcnM9aGVhZGVycylcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6XG4iLAogICAgICAgICIgICAganNvbl9yZXNwb25zZSA9IGpzb24ubG9hZHMocmVzcG9uc2UuY29udGVudClcbiIsCiAgICAgICAgIiAgICBsbG1fcmVzcG9uc2UgPSBcIlwiXG4iLAogICAgICAgICIgICAgZm9yIGl0ZW0gaW4ganNvbl9yZXNwb25zZTpcbiIsCiAgICAgICAgIiAgICAgIGxsbV9yZXNwb25zZSA9IGxsbV9yZXNwb25zZSArIGl0ZW1bXCJjYW5kaWRhdGVzXCJdWzBdW1wiY29udGVudFwiXVtcInBhcnRzXCJdWzBdW1widGV4dFwiXVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgIyBSZW1vdmUgc29tZSB0eXBpY2FsbHkgcmVzcG9uc2UgY2hhcmFjdGVycyAoaWYgYXNraW5nIGZvciBhIEpTT04gcmVwbHkpXG4iLAogICAgICAgICIgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlLnJlcGxhY2UoXCJgYGBqc29uXCIsXCJcIilcbiIsCiAgICAgICAgIiAgICBsbG1fcmVzcG9uc2UgPSBsbG1fcmVzcG9uc2UucmVwbGFjZShcImBgYFwiLFwiXCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAjIHByaW50KGZcImxsbV9yZXNwb25zZTpcXG57bGxtX3Jlc3BvbnNlfVwiKVxuIiwKICAgICAgICAiICAgIHJldHVybiBsbG1fcmVzcG9uc2VcbiIsCiAgICAgICAgIiAgZWxzZTpcbiIsCiAgICAgICAgIiAgICBlcnJvciA9IGZcIkVycm9yIHdpdGggcHJvbXB0Oid7cHJvbXB0fScgIFN0YXR1czone3Jlc3BvbnNlLnN0YXR1c19jb2RlfScgVGV4dDone3Jlc3BvbnNlLnRleHR9J1wiXG4iLAogICAgICAgICIgICAgcmFpc2UgUnVudGltZUVycm9yKGVycm9yKVxuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJyVkNZOTNJeVhQb08iCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgU1FMIEZ1bmN0aW9ucyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiakhDdFhZdVJOVTBwIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJkZWYgUnVuUXVlcnkoc3FsKTpcbiIsCiAgICAgICAgIiAgaW1wb3J0IHRpbWVcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBpZiAoc3FsLnN0YXJ0c3dpdGgoXCJTRUxFQ1RcIikgb3Igc3FsLnN0YXJ0c3dpdGgoXCJXSVRIXCIpKTpcbiIsCiAgICAgICAgIiAgICAgIGRmX3Jlc3VsdCA9IGNsaWVudC5xdWVyeShzcWwpLnRvX2RhdGFmcmFtZSgpXG4iLAogICAgICAgICIgICAgICByZXR1cm4gZGZfcmVzdWx0XG4iLAogICAgICAgICIgIGVsc2U6XG4iLAogICAgICAgICIgICAgam9iX2NvbmZpZyA9IGJpZ3F1ZXJ5LlF1ZXJ5Sm9iQ29uZmlnKHByaW9yaXR5PWJpZ3F1ZXJ5LlF1ZXJ5UHJpb3JpdHkuSU5URVJBQ1RJVkUpXG4iLAogICAgICAgICIgICAgcXVlcnlfam9iID0gY2xpZW50LnF1ZXJ5KHNxbCwgam9iX2NvbmZpZz1qb2JfY29uZmlnKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgIyBDaGVjayBvbiB0aGUgcHJvZ3Jlc3MgYnkgZ2V0dGluZyB0aGUgam9iJ3MgdXBkYXRlZCBzdGF0ZS5cbiIsCiAgICAgICAgIiAgICBxdWVyeV9qb2IgPSBjbGllbnQuZ2V0X2pvYihcbiIsCiAgICAgICAgIiAgICAgICAgcXVlcnlfam9iLmpvYl9pZCwgbG9jYXRpb249cXVlcnlfam9iLmxvY2F0aW9uXG4iLAogICAgICAgICIgICAgKVxuIiwKICAgICAgICAiICAgIHByaW50KFwiSm9iIHt9IGlzIGN1cnJlbnRseSBpbiBzdGF0ZSB7fSB3aXRoIGVycm9yIHJlc3VsdCBvZiB7fVwiLmZvcm1hdChxdWVyeV9qb2Iuam9iX2lkLCBxdWVyeV9qb2Iuc3RhdGUsIHF1ZXJ5X2pvYi5lcnJvcl9yZXN1bHQpKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgd2hpbGUgcXVlcnlfam9iLnN0YXRlICE9IFwiRE9ORVwiOlxuIiwKICAgICAgICAiICAgICAgdGltZS5zbGVlcCgyKVxuIiwKICAgICAgICAiICAgICAgcXVlcnlfam9iID0gY2xpZW50LmdldF9qb2IoXG4iLAogICAgICAgICIgICAgICAgICAgcXVlcnlfam9iLmpvYl9pZCwgbG9jYXRpb249cXVlcnlfam9iLmxvY2F0aW9uXG4iLAogICAgICAgICIgICAgICAgICAgKVxuIiwKICAgICAgICAiICAgICAgcHJpbnQoXCJKb2Ige30gaXMgY3VycmVudGx5IGluIHN0YXRlIHt9IHdpdGggZXJyb3IgcmVzdWx0IG9mIHt9XCIuZm9ybWF0KHF1ZXJ5X2pvYi5qb2JfaWQsIHF1ZXJ5X2pvYi5zdGF0ZSwgcXVlcnlfam9iLmVycm9yX3Jlc3VsdCkpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICBpZiBxdWVyeV9qb2IuZXJyb3JfcmVzdWx0ID09IE5vbmU6XG4iLAogICAgICAgICIgICAgICByZXR1cm4gVHJ1ZVxuIiwKICAgICAgICAiICAgIGVsc2U6XG4iLAogICAgICAgICIgICAgICByZXR1cm4gRmFsc2UiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogInA5ajFHZEF3TmlmQiIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIEdldE5leHRQcmltYXJ5S2V5KGZ1bGx5X3F1YWxpZmllZF90YWJsZV9uYW1lLCBmaWVsZF9uYW1lKTpcbiIsCiAgICAgICAgIiAgc3FsID0gZlwiXCJcIlxuIiwKICAgICAgICAiICBTRUxFQ1QgSUZOVUxMKE1BWCh7ZmllbGRfbmFtZX0pLDApIEFTIHJlc3VsdFxuIiwKICAgICAgICAiICAgIEZST00gYHtmdWxseV9xdWFsaWZpZWRfdGFibGVfbmFtZX1gXG4iLAogICAgICAgICIgIFwiXCJcIlxuIiwKICAgICAgICAiICAjIHByaW50KHNxbClcbiIsCiAgICAgICAgIiAgZGZfcmVzdWx0ID0gY2xpZW50LnF1ZXJ5KHNxbCkudG9fZGF0YWZyYW1lKClcbiIsCiAgICAgICAgIiAgIyBkaXNwbGF5KGRmX3Jlc3VsdClcbiIsCiAgICAgICAgIiAgcmV0dXJuIGRmX3Jlc3VsdFsncmVzdWx0J10uaWxvY1swXSArIDEiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIndzM2k4SFZHa2s1cCIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIEdldFRhYmxlU2NoZW1hKGRhdGFzZXRfbmFtZSwgdGFibGVfbmFtZSk6XG4iLAogICAgICAgICIgIGltcG9ydCBpb1xuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGRhdGFzZXRfcmVmID0gY2xpZW50LmRhdGFzZXQoZGF0YXNldF9uYW1lLCBwcm9qZWN0PXByb2plY3RfaWQpXG4iLAogICAgICAgICIgIHRhYmxlX3JlZiA9IGRhdGFzZXRfcmVmLnRhYmxlKHRhYmxlX25hbWUpXG4iLAogICAgICAgICIgIHRhYmxlID0gY2xpZW50LmdldF90YWJsZSh0YWJsZV9yZWYpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgZiA9IGlvLlN0cmluZ0lPKFwiXCIpXG4iLAogICAgICAgICIgIGNsaWVudC5zY2hlbWFfdG9fanNvbih0YWJsZS5zY2hlbWEsIGYpXG4iLAogICAgICAgICIgIHJldHVybiBmLmdldHZhbHVlKCkiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIlF4MHEzeVVObDYzZSIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIEdldFN0YXJ0aW5nVmFsdWUoZGF0YXNldF9uYW1lLCB0YWJsZV9uYW1lLCBmaWVsZF9uYW1lKTpcbiIsCiAgICAgICAgIiAgc3FsID0gZlwiXCJcIlxuIiwKICAgICAgICAiICBTRUxFQ1QgSUZOVUxMKE1BWCh7ZmllbGRfbmFtZX0pLDApICsgMSBBUyByZXN1bHRcbiIsCiAgICAgICAgIiAgICBGUk9NIGB7cHJvamVjdF9pZH0ue2RhdGFzZXRfbmFtZX0ue3RhYmxlX25hbWV9YFxuIiwKICAgICAgICAiICBcIlwiXCJcbiIsCiAgICAgICAgIiAgI3ByaW50KHNxbClcbiIsCiAgICAgICAgIiAgZGZfcmVzdWx0ID0gY2xpZW50LnF1ZXJ5KHNxbCkudG9fZGF0YWZyYW1lKClcbiIsCiAgICAgICAgIiAgI2Rpc3BsYXkoZGZfcmVzdWx0KVxuIiwKICAgICAgICAiICByZXR1cm4gZGZfcmVzdWx0WydyZXN1bHQnXS5pbG9jWzBdIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICI2ejVGYzVNZWw2c0giCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgImRlZiBHZXRGb3JlaWduS2V5cyhkYXRhc2V0X25hbWUsIHRhYmxlX25hbWUsIGZpZWxkX25hbWUpOlxuIiwKICAgICAgICAiICBzcWwgPSBmXCJcIlwiXG4iLAogICAgICAgICIgIFNFTEVDVCBTVFJJTkdfQUdHKENBU1Qoe2ZpZWxkX25hbWV9IEFTIFNUUklORyksIFwiLFwiIE9SREVSIEJZIHtmaWVsZF9uYW1lfSkgQVMgcmVzdWx0XG4iLAogICAgICAgICIgICAgRlJPTSBge3Byb2plY3RfaWR9LntkYXRhc2V0X25hbWV9Lnt0YWJsZV9uYW1lfWBcbiIsCiAgICAgICAgIiAgXCJcIlwiXG4iLAogICAgICAgICIgICNwcmludChzcWwpXG4iLAogICAgICAgICIgIGRmX3Jlc3VsdCA9IGNsaWVudC5xdWVyeShzcWwpLnRvX2RhdGFmcmFtZSgpXG4iLAogICAgICAgICIgICNkaXNwbGF5KGRmX3Jlc3VsdClcbiIsCiAgICAgICAgIiAgcmV0dXJuIGRmX3Jlc3VsdFsncmVzdWx0J10uaWxvY1swXSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiOS02VEhHZ2puREtnIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJkZWYgR2V0RGlzdGluY3RWYWx1ZXMoZGF0YXNldF9uYW1lLCB0YWJsZV9uYW1lLCBmaWVsZF9uYW1lKTpcbiIsCiAgICAgICAgIiAgc3FsID0gZlwiXCJcIlxuIiwKICAgICAgICAiICBTRUxFQ1QgU1RSSU5HX0FHRyhESVNUSU5DVCB7ZmllbGRfbmFtZX0sIFwiLFwiICkgQVMgcmVzdWx0XG4iLAogICAgICAgICIgICAgRlJPTSBge3Byb2plY3RfaWR9LntkYXRhc2V0X25hbWV9Lnt0YWJsZV9uYW1lfWBcbiIsCiAgICAgICAgIiAgXCJcIlwiXG4iLAogICAgICAgICIgICNwcmludChzcWwpXG4iLAogICAgICAgICIgIGRmX3Jlc3VsdCA9IGNsaWVudC5xdWVyeShzcWwpLnRvX2RhdGFmcmFtZSgpXG4iLAogICAgICAgICIgICNkaXNwbGF5KGRmX3Jlc3VsdClcbiIsCiAgICAgICAgIiAgcmV0dXJuIGRmX3Jlc3VsdFsncmVzdWx0J10uaWxvY1swXSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiQmx4ZGROenBtQWdwIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyMjIEhlbHBlciBGdW5jdGlvbnMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIkUxeXJQanZWWE5DeiIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIGNvbnZlcnRfcG5nX3RvX2Jhc2U2NChpbWFnZV9wYXRoKTpcbiIsCiAgICAgICAgIiAgaW1hZ2UgPSBjdjIuaW1yZWFkKGltYWdlX3BhdGgpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBDb252ZXJ0IHRoZSBpbWFnZSB0byBhIGJhc2U2NCBzdHJpbmcuXG4iLAogICAgICAgICIgIF8sIGJ1ZmZlciA9IGN2Mi5pbWVuY29kZSgnLnBuZycsIGltYWdlKVxuIiwKICAgICAgICAiICBiYXNlNjRfc3RyaW5nID0gYmFzZTY0LmI2NGVuY29kZShidWZmZXIpLmRlY29kZSgndXRmLTgnKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHJldHVybiBiYXNlNjRfc3RyaW5nIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJ5bHEyY3JrbE51Q0IiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMgVGhpcyB3YXMgZ2VuZXJhdGVkIGJ5IEdlbkFJXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImRlZiBjb3B5X2ZpbGVfdG9fZ2NzKGxvY2FsX2ZpbGVfcGF0aCwgYnVja2V0X25hbWUsIGRlc3RpbmF0aW9uX2Jsb2JfbmFtZSk6XG4iLAogICAgICAgICIgIFwiXCJcIkNvcGllcyBhIGZpbGUgZnJvbSBhIGxvY2FsIGRyaXZlIHRvIGEgR0NTIGJ1Y2tldC5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBBcmdzOlxuIiwKICAgICAgICAiICAgICAgbG9jYWxfZmlsZV9wYXRoOiBUaGUgZnVsbCBwYXRoIHRvIHRoZSBsb2NhbCBmaWxlLlxuIiwKICAgICAgICAiICAgICAgYnVja2V0X25hbWU6IFRoZSBuYW1lIG9mIHRoZSBHQ1MgYnVja2V0IHRvIHVwbG9hZCB0by5cbiIsCiAgICAgICAgIiAgICAgIGRlc3RpbmF0aW9uX2Jsb2JfbmFtZTogVGhlIGRlc2lyZWQgbmFtZSBvZiB0aGUgdXBsb2FkZWQgZmlsZSBpbiB0aGUgYnVja2V0LlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIFJldHVybnM6XG4iLAogICAgICAgICIgICAgICBOb25lXG4iLAogICAgICAgICIgIFwiXCJcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGltcG9ydCBvc1xuIiwKICAgICAgICAiICBmcm9tIGdvb2dsZS5jbG91ZCBpbXBvcnQgc3RvcmFnZVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgRW5zdXJlIHRoZSBmaWxlIGV4aXN0cyBsb2NhbGx5XG4iLAogICAgICAgICIgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhsb2NhbF9maWxlX3BhdGgpOlxuIiwKICAgICAgICAiICAgICAgcmFpc2UgRmlsZU5vdEZvdW5kRXJyb3IoZlwiTG9jYWwgZmlsZSAne2xvY2FsX2ZpbGVfcGF0aH0nIG5vdCBmb3VuZC5cIilcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAjIENyZWF0ZSBhIHN0b3JhZ2UgY2xpZW50XG4iLAogICAgICAgICIgIHN0b3JhZ2VfY2xpZW50ID0gc3RvcmFnZS5DbGllbnQoKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBidWNrZXRcbiIsCiAgICAgICAgIiAgYnVja2V0ID0gc3RvcmFnZV9jbGllbnQuYnVja2V0KGJ1Y2tldF9uYW1lKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgQ3JlYXRlIGEgYmxvYiBvYmplY3Qgd2l0aCB0aGUgZGVzaXJlZCBkZXN0aW5hdGlvbiBwYXRoXG4iLAogICAgICAgICIgIGJsb2IgPSBidWNrZXQuYmxvYihkZXN0aW5hdGlvbl9ibG9iX25hbWUpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBVcGxvYWQgdGhlIGZpbGUgZnJvbSB0aGUgbG9jYWwgZmlsZXN5c3RlbVxuIiwKICAgICAgICAiICBjb250ZW50X3R5cGUgPSBcIlwiXG4iLAogICAgICAgICIgIGlmIGxvY2FsX2ZpbGVfcGF0aC5lbmRzd2l0aChcIi5odG1sXCIpOlxuIiwKICAgICAgICAiICAgIGNvbnRlbnRfdHlwZSA9IFwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBpZiBsb2NhbF9maWxlX3BhdGguZW5kc3dpdGgoXCIuanNvblwiKTpcbiIsCiAgICAgICAgIiAgICBjb250ZW50X3R5cGUgPSBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGlmIGNvbnRlbnRfdHlwZSA9PSBcIlwiOlxuIiwKICAgICAgICAiICAgIGJsb2IudXBsb2FkX2Zyb21fZmlsZW5hbWUobG9jYWxfZmlsZV9wYXRoKVxuIiwKICAgICAgICAiICBlbHNlOlxuIiwKICAgICAgICAiICAgIGJsb2IudXBsb2FkX2Zyb21fZmlsZW5hbWUobG9jYWxfZmlsZV9wYXRoLCBjb250ZW50X3R5cGUgPSBjb250ZW50X3R5cGUpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcHJpbnQoZlwiRmlsZSAne2xvY2FsX2ZpbGVfcGF0aH0nIHVwbG9hZGVkIHRvIEdDUyBidWNrZXQgJ3tidWNrZXRfbmFtZX0nIGFzICd7ZGVzdGluYXRpb25fYmxvYl9uYW1lfS4gIENvbnRlbnQtVHlwZToge2NvbnRlbnRfdHlwZX0nLlwiKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiZk9ieW1ZUVBlcUltIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJkZWYgZG93bmxvYWRfZnJvbV9nY3MoZmlsZW5hbWUsIGdjc19zdG9yYWdlX2J1Y2tldCwgZ2NzX3N0b3JhZ2VfcGF0aCk6XG4iLAogICAgICAgICIgICMgcHJvbXB0OiBXcml0ZSBweXRob24gY29kZSB0byBkb3dubG9hZCBhIGJsb2IgZnJvbSBhIGdjcyBidWNrZXQuICBkbyBub3QgdXNlIHRoZSByZXF1ZXN0cyBtZXRob2RcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBmcm9tIGdvb2dsZS5jbG91ZCBpbXBvcnQgc3RvcmFnZVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgVGhlIElEIG9mIHlvdXIgR0NTIG9iamVjdFxuIiwKICAgICAgICAiICBvYmplY3RfbmFtZSA9IGdjc19zdG9yYWdlX3BhdGggKyBmaWxlbmFtZVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgVGhlIHBhdGggdG8gd2hpY2ggdGhlIGZpbGUgc2hvdWxkIGJlIGRvd25sb2FkZWRcbiIsCiAgICAgICAgIiAgZGVzdGluYXRpb25fZmlsZV9uYW1lID0gZmlsZW5hbWVcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBzdG9yYWdlX2NsaWVudCA9IHN0b3JhZ2UuQ2xpZW50KClcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBidWNrZXQgPSBzdG9yYWdlX2NsaWVudC5idWNrZXQoZ2NzX3N0b3JhZ2VfYnVja2V0KVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgQ29uc3RydWN0IGEgY2xpZW50IHNpZGUgcmVwcmVzZW50YXRpb24gb2YgYSBibG9iLlxuIiwKICAgICAgICAiICAjIE5vdGUgYEJ1Y2tldC5ibG9iYCBkaWZmZXJzIGZyb20gYEJ1Y2tldC5nZXRfYmxvYmAgYXMgaXQgZG9lc24ndCByZXRyaWV2ZVxuIiwKICAgICAgICAiICAjIGFueSBjb250ZW50IGZyb20gR29vZ2xlIENsb3VkIFN0b3JhZ2UuIEFzIHdlIGRvbid0IG5lZWQgYWRkaXRpb25hbCBkYXRhLFxuIiwKICAgICAgICAiICAjIHVzaW5nIGBCdWNrZXQuYmxvYmAgaXMgcHJlZmVycmVkIGhlcmUuXG4iLAogICAgICAgICIgIGJsb2IgPSBidWNrZXQuYmxvYihvYmplY3RfbmFtZSlcbiIsCiAgICAgICAgIiAgYmxvYi5kb3dubG9hZF90b19maWxlbmFtZShkZXN0aW5hdGlvbl9maWxlX25hbWUpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcHJpbnQoXG4iLAogICAgICAgICIgICAgICBcIkRvd25sb2FkZWQgc3RvcmFnZSBvYmplY3Qge30gZnJvbSBidWNrZXQge30gdG8gbG9jYWwgZmlsZSB7fS5cIi5mb3JtYXQoXG4iLAogICAgICAgICIgICAgICAgICAgb2JqZWN0X25hbWUsIGdjc19zdG9yYWdlX2J1Y2tldCwgZGVzdGluYXRpb25fZmlsZV9uYW1lXG4iLAogICAgICAgICIgICAgICApXG4iLAogICAgICAgICIgICkiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAibWFya2Rvd24iLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIk1Pbk1MOGpwZHd6ZyIKICAgICAgfSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyMgQ3JlYXRlIHRoZSBNYXJrZXRpbmcgQ2FtcGFpZ24iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogImtnWUl1b3VXQ1ZpdiIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiJSViaWdxdWVyeVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICItLSBDb3B5IHRoZSB0YWJsZSBmcm9tIHRoZSBjdXJhdGVkIGRhdGFzZXQgaWYgdGhlIE1lbnUtQS1CLVRlc3RpbmctR2VuZXJhdGUtSW5zaWdodC1HZW5BSSBub3RlYm9vayBoYXMgbm90IGJlZW4gcnVuLlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJDUkVBVEUgU0NIRU1BIElGIE5PVCBFWElTVFMgYGRhdGEtYmVhbnMtZGVtby1temJlbW1wOHNlLmRhdGFfYmVhbnNfc3ludGhldGljX2RhdGFgO1xuIiwKICAgICAgICAiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgYGRhdGEtYmVhbnMtZGVtby1temJlbW1wOHNlLmRhdGFfYmVhbnNfc3ludGhldGljX2RhdGEubWVudV9hX2JfdGVzdGluZ2AgQ09QWSBgZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2UuZGF0YV9iZWFuc19jdXJhdGVkLm1lbnVfYV9iX3Rlc3RpbmdgOyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiYUNra2ZGcjJINXdrIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICIlJWJpZ3F1ZXJ5XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIi0tIENyZWF0ZSBvdXIgbWFya2V0aW5nIHByb21wdCBmb3IgRW1haWwsIFR3aXR0ZXIgKFgpLCBhbmQgSW5zdHJhZ3JhbVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJVUERBVEUgYGRhdGEtYmVhbnMtZGVtby1temJlbW1wOHNlLmRhdGFfYmVhbnNfc3ludGhldGljX2RhdGEubWVudV9hX2JfdGVzdGluZ2AgQVMgcGFyZW50XG4iLAogICAgICAgICIgICBTRVQgbGxtX21hcmtldGluZ19wcm9tcHQgPVxuIiwKICAgICAgICAiICAgICAgIENPTkNBVChcIllvdSBydW4gYSBmbGVldCBvZiBjb2ZmZWUgdHJ1Y2tzIGluIFwiLCBjaXR5LmNpdHlfbmFtZSwgXCIuIFwiLFxuIiwKICAgICAgICAiICAgICAgIFwiV2UgbmVlZCB0byBjcmFmdCBhIGNvbXBlbGxpbmcgbWFya2V0aW5nIGNhbXBhaWduIGZvciBhIG5ldyBtZW51IGl0ZW0uIFwiLFxuIiwKICAgICAgICAiICAgICAgIFwiQ3JhZnQgMyBzZWN0aW9ucyBmb3IgdGhlIGNhbXBhaWduOiBBIFR3aXR0ZXIgc2VjdGlvbiwgQW4gSW5zdHJhZ3JhbSBzZWN0aW9uIGFuZCBhbiBFbWFpbCBzZWN0aW9uLiBcIixcbiIsCiAgICAgICAgIiAgICAgICBcIlRoZSBuZXcgbWVudSBpdGVtJ3MgbmFtZSBpczogXCIsIGNoaWxkLml0ZW1fbmFtZSwgXCIuIFwiLFxuIiwKICAgICAgICAiICAgICAgIFwiVGhlIG5ldyBtZW51IGl0ZW0ncyBkZXNjcmlwdGlvbiBpczogXCIsIElGTlVMTChjaGlsZC5pdGVtX2Rlc2NyaXB0aW9uLGNoaWxkLml0ZW1fbmFtZSksIFwiLCBcIixcbiIsCiAgICAgICAgIiAgICAgICBcIlRoZSBuZXcgbWVudSBpdGVtJ3MgaW1hZ2UgbG9va3MgbGlrZTogXCIsIGNoaWxkLmxsbV9pdGVtX2ltYWdlX3Byb21wdCwgXCIuIFwiLFxuIiwKICAgICAgICAiICAgICAgIFwiRW1icmFjZSB1bmNvbnZlbnRpb25hbCBpZGVhcyBhbmQgdGhpbmtpbmcgdGhhdCBzdXJwcmlzZXMgYW5kIGluc3BpcmVzIHVuaXF1ZSB2YXJpYXRpb25zLiBcIixcbiIsCiAgICAgICAgIiAgICAgICBcIldyaXRlIHRoZSByZXNwb25zZSBpbiB1c2luZyB0aGUgbGFuZ3VhZ2UgXCIsXG4iLAogICAgICAgICIgICAgICAgQ0FTRSBXSEVOIGNpdHkuY2l0eV9pZCA9IDEgVEhFTiBcIkFtZXJpY2FuIEVuZ2xpc2hcIlxuIiwKICAgICAgICAiICAgICAgICAgICAgV0hFTiBjaXR5LmNpdHlfaWQgPSAyIFRIRU4gXCJCcml0aXNoIEVuZ2xpc2hcIlxuIiwKICAgICAgICAiICAgICAgICAgICAgV0hFTiBjaXR5LmNpdHlfaWQgPSAzIFRIRU4gXCJKYXBhbmVzZVwiXG4iLAogICAgICAgICIgICAgICAgICAgICBXSEVOIGNpdHkuY2l0eV9pZCA9IDQgVEhFTiBcIkFtZXJpY2FuIEVuZ2xpc2hcIlxuIiwKICAgICAgICAiICAgICAgICAgICAgRUxTRSBcIkVuZ2xpc2hcIlxuIiwKICAgICAgICAiICAgICAgIEVORCwgXCIuIFwiLFxuIiwKICAgICAgICAiICAgICAgIFwiVGhlIGNhbXBhaWduIHNob3VsZCBiZSAzIHRvIDQgc2VudGVuY2VzLiBcIixcbiIsCiAgICAgICAgIiAgICAgICBcIkRvIG5vdCBtZW50aW9uIHRoZSB3ZWF0aGVyIGluIHRoZSBtZXNzYWdlLiBcIixcbiIsCiAgICAgICAgIiAgICAgICBcIkRvIG5vdCBtZW50aW9uICdDb21pbmcgU29vbicgc2luY2UgdGhlIG1lbnUgaXRlbSBpcyBhdmFpbGFibGUgbm93LiBcIixcbiIsCiAgICAgICAgIiAgICAgICBcIkRvIG5vdCBjcmVhdGUgYW55IHRva2VuIHJlcGxhY2VtZW50cyBsaWtlIHNxdWFyZSBicmFja2V0cyBvciBjdXJseSBicmFjZXMuIFwiLFxuIiwKICAgICAgICAiICAgICAgIFwiVGhpcyBpcyBub3QgYSB0ZW1wbGF0ZSBpdCBpcyBhIGNvbXBsZXRlIG1lc3NhZ2UuIFwiLFxuIiwKICAgICAgICAiICAgICAgIFwiUmV0dXJuIHRoZSByZXN1bHRzIGluIEpTT04gd2l0aCBubyBzcGVjaWFsIGNoYXJhY3RlcnMgb3IgZm9ybWF0dGluZy4gXCIsXG4iLAogICAgICAgICIgICAgICAgXCJEb3VibGUgY2hlY2sgZm9yIHNwZWNpYWwgY2hhcmFjdGVycyBlc3BlY2lhbGx5IGZvciBKYXBhbmVzZS4gXCIsXG4iLAogICAgICAgICIgICAgICAgJ0NyZWF0ZSBhIHN1YmplY3QgdXAgdG8gMTUwIGNoYXJhY3RlcnMgYW5kIHBsYWNlIGluIHRoZSBKU09OIFwic3ViamVjdFwiIGZpZWxkLiAnLFxuIiwKICAgICAgICAiICAgICAgICdQbGFjZSB0aGUgdHdpdHRlciB0ZXh0IGluIHRoZSBKU09OIFwidHdpdHRlclwiIGZpZWxkLiAnLFxuIiwKICAgICAgICAiICAgICAgICdQbGFjZSB0aGUgaW5zdGFncmFtIHRleHQgaW4gdGhlIEpTT04gXCJpbnN0YWdyYW1cIiBmaWVsZC4gJyxcbiIsCiAgICAgICAgIiAgICAgICAnUGxhY2UgdGhlIGVtYWlsIHRleHQgaW4gdGhlIEpTT04gXCJlbWFpbFwiIGZpZWxkLiAnLFxuIiwKICAgICAgICAiICAgICAgIFwiRXhhbXBsZSBSZXR1cm4gRGF0YTpcIixcbiIsCiAgICAgICAgIiAgICAgICAneyBcInN1YmplY3RcIiA6IFwiV293ISBNb2NoYSBNdW5jaGtpbnMhLCBcInR3aXR0ZXJcIjogXCJNb2NoYSBNdW5jaGtpbnMgZ2V0IHNvbWUgYmVmb3JlIHRoZXkgYXJlIGdvbmUuXCIsIFwiaW5zdGFncmFtXCIgOiBcIkNoZWNrIG91dCB0aGlzIHBob3RvXCIsIFwiZW1haWxcIiA6IFwiQ2hlY2sgdGhpcyBvdXRcIn0gJyxcbiIsCiAgICAgICAgIiAgICAgICAneyBcInN1YmplY3RcIiA6IFwiUm9ibyBDb2ZmZWUgYSBNdXN0IVwiLCBcInR3aXR0ZXJcIjogXCJUcnkgb3VyIGFsbCBuZXcgUm9ibyBjb2ZmZWUuICBBdmFpbGFibGUgTm93LlwiLCBcImluc3RhZ3JhbVwiIDogXCJXb3cgbmV3IGl0ZW1cIiwgXCJlbWFpbFwiIDogXCJZb3UgbXVzdCB0YXN0ZSB0aGlzXCJ9ICdcbiIsCiAgICAgICAgIiAgICAgICApLFxuIiwKICAgICAgICAiICAgICAgIGxsbV9tYXJrZXRpbmdfcmVzcG9uc2UgPSBudWxsLFxuIiwKICAgICAgICAiICAgICAgIGxsbV9tYXJrZXRpbmdfcGFyc2VkX3Jlc3BvbnNlID0gbnVsbCxcbiIsCiAgICAgICAgIiAgICAgICBodG1sX2ZpbGVuYW1lID0gbnVsbCxcbiIsCiAgICAgICAgIiAgICAgICBodG1sX3VybCA9IG51bGwsXG4iLAogICAgICAgICIgICAgICAgaHRtbF9nZW5lcmF0ZWQgPSBGQUxTRVxuIiwKICAgICAgICAiICBGUk9NIGBkYXRhLWJlYW5zLWRlbW8tbXpiZW1tcDhzZS5kYXRhX2JlYW5zX3N5bnRoZXRpY19kYXRhLm1lbnVfYV9iX3Rlc3RpbmdgIEFTIGNoaWxkXG4iLAogICAgICAgICIgICAgICAgSU5ORVIgSk9JTiBgZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2UuZGF0YV9iZWFuc19jdXJhdGVkLmxvY2F0aW9uYCBBUyBsb2NhdGlvblxuIiwKICAgICAgICAiICAgICAgICAgICAgICAgT04gY2hpbGQubG9jYXRpb25faWQgPSBsb2NhdGlvbi5sb2NhdGlvbl9pZFxuIiwKICAgICAgICAiICAgICAgIElOTkVSIEpPSU4gYGRhdGEtYmVhbnMtZGVtby1temJlbW1wOHNlLmRhdGFfYmVhbnNfY3VyYXRlZC5jaXR5YCBBUyBjaXR5XG4iLAogICAgICAgICIgICAgICAgICAgICAgICBPTiBsb2NhdGlvbi5jaXR5X2lkID0gY2l0eS5jaXR5X2lkXG4iLAogICAgICAgICIgV0hFUkUgY2hpbGQubWVudV9hX2JfdGVzdGluZ19pZCA9IHBhcmVudC5tZW51X2FfYl90ZXN0aW5nX2lkXG4iLAogICAgICAgICIgICBBTkQgcGFyZW50LmxsbV9tYXJrZXRpbmdfcHJvbXB0IElTIE5VTEw7XG4iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogInZraHR3QU1DT2loXyIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiJSViaWdxdWVyeVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICItLSBTY29yZSBvdXIgTExNIHByb21wdFxuIiwKICAgICAgICAiVVBEQVRFIGBkYXRhLWJlYW5zLWRlbW8tbXpiZW1tcDhzZS5kYXRhX2JlYW5zX3N5bnRoZXRpY19kYXRhLm1lbnVfYV9iX3Rlc3RpbmdgIEFTIG1lbnVfYV9iX3Rlc3RpbmdcbiIsCiAgICAgICAgIiAgIFNFVCBsbG1fbWFya2V0aW5nX3Jlc3BvbnNlID0gbGxtX3F1ZXJ5Lm1sX2dlbmVyYXRlX3RleHRfcmVzdWx0LFxuIiwKICAgICAgICAiICAgICAgIGxsbV9tYXJrZXRpbmdfcGFyc2VkX3Jlc3BvbnNlID0gTlVMTFxuIiwKICAgICAgICAiICBGUk9NIChTRUxFQ1QgKlxuIiwKICAgICAgICAiICAgICAgICAgIEZST00gTUwuR0VORVJBVEVfVEVYVChNT0RFTCBgZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2UuZGF0YV9iZWFuc19jdXJhdGVkLmdlbWluaV9tb2RlbGAsXG4iLAogICAgICAgICIgICAgICAgICAgICAgIChTRUxFQ1QgbWVudV9hX2JfdGVzdGluZ19pZCxcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICBsbG1fbWFya2V0aW5nX3Byb21wdCBBUyBwcm9tcHRcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgICAgRlJPTSBgZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2UuZGF0YV9iZWFuc19zeW50aGV0aWNfZGF0YS5tZW51X2FfYl90ZXN0aW5nYFxuIiwKICAgICAgICAiICAgICAgICAgICAgICAgIFdIRVJFIChsbG1fbWFya2V0aW5nX3Jlc3BvbnNlIElTIE5VTExcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgT1JcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgSlNPTl9WQUxVRShsbG1fbWFya2V0aW5nX3Jlc3BvbnNlLCAnJC5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dCcpIElTIE5VTExcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgKVxuIiwKICAgICAgICAiICAgICAgICAgICAgICAgICksXG4iLAogICAgICAgICIgICAgICAgICAgICAgICBTVFJVQ1QoXG4iLAogICAgICAgICIgICAgICAgICAgICAgICAuOSBBUyB0ZW1wZXJhdHVyZSxcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgIDUwMDAgQVMgbWF4X291dHB1dF90b2tlbnMsXG4iLAogICAgICAgICIgICAgICAgICAgICAgICAuOCBBUyB0b3BfcCxcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgIDMwIEFTIHRvcF9rXG4iLAogICAgICAgICIgICAgICAgICAgICkpXG4iLAogICAgICAgICIgICAgICApIEFTIGxsbV9xdWVyeVxuIiwKICAgICAgICAiV0hFUkUgbWVudV9hX2JfdGVzdGluZy5tZW51X2FfYl90ZXN0aW5nX2lkID0gbGxtX3F1ZXJ5Lm1lbnVfYV9iX3Rlc3RpbmdfaWQ7XG4iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIlY4RkVjV3NiUm4taCIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiJSViaWdxdWVyeVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICItLSBQYXJzZSBvdXIgY3VzdG9tIEpTT04gb3V0IG9mIHRoZSBMTE0gcmVzcG9uc2UgSlNPTlxuIiwKICAgICAgICAiVVBEQVRFIGBkYXRhLWJlYW5zLWRlbW8tbXpiZW1tcDhzZS5kYXRhX2JlYW5zX3N5bnRoZXRpY19kYXRhLm1lbnVfYV9iX3Rlc3RpbmdgXG4iLAogICAgICAgICIgICBTRVQgbGxtX21hcmtldGluZ19wYXJzZWRfcmVzcG9uc2UgPSBgZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2UuZGF0YV9iZWFuc19jdXJhdGVkLmdlbWluaV9tb2RlbF9yZXN1bHRfYXNfanNvbmAobGxtX21hcmtldGluZ19yZXNwb25zZSlcbiIsCiAgICAgICAgIiBXSEVSRSBsbG1fbWFya2V0aW5nX3BhcnNlZF9yZXNwb25zZSBJUyBOVUxMOyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAibXduOUwyeWJTWXhlIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICIlJWJpZ3F1ZXJ5XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIi0tIFNob3cgdGhlIHJlc3VsdHNcbiIsCiAgICAgICAgIlNFTEVDVCBtZW51X2FfYl90ZXN0aW5nX2lkLCBsbG1fbWFya2V0aW5nX3BhcnNlZF9yZXNwb25zZVxuIiwKICAgICAgICAiIEZST00gYGRhdGEtYmVhbnMtZGVtby1temJlbW1wOHNlLmRhdGFfYmVhbnNfc3ludGhldGljX2RhdGEubWVudV9hX2JfdGVzdGluZ2BcbiIsCiAgICAgICAgIk9SREVSIEJZIG1lbnVfYV9iX3Rlc3RpbmdfaWQgREVTQ1xuIiwKICAgICAgICAiTElNSVQgMTA7XG4iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAibWFya2Rvd24iLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIjNfU3VGb2IzV3lqcCIKICAgICAgfSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyMgQ3JlYXRlIHRoZSBIVE1MIG1lc3NhZ2UiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIlNuaGtHZi0zVzMzbSIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAic3FsID0gXCJcIlwiU0VMRUNUIG1lbnVfYV9iX3Rlc3RpbmdfaWQsIGxsbV9tYXJrZXRpbmdfcGFyc2VkX3Jlc3BvbnNlXG4iLAogICAgICAgICIgICAgICAgICAgIEZST00gYGRhdGEtYmVhbnMtZGVtby1temJlbW1wOHNlLmRhdGFfYmVhbnNfc3ludGhldGljX2RhdGEubWVudV9hX2JfdGVzdGluZ2BcbiIsCiAgICAgICAgIiAgICAgICAgIFdIRVJFIGh0bWxfZ2VuZXJhdGVkIElTIE5VTEwgT1IgaHRtbF9nZW5lcmF0ZWQgPSBGQUxTRVxuIiwKICAgICAgICAiICAgICAgICBPUkRFUiBCWSBtZW51X2FfYl90ZXN0aW5nX2lkXG4iLAogICAgICAgICJcIlwiXCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiZGZfcHJvY2VzcyA9IGNsaWVudC5xdWVyeShzcWwpLnRvX2RhdGFmcmFtZSgpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImZvciByb3cgaW4gZGZfcHJvY2Vzcy5pdGVydHVwbGVzKCk6XG4iLAogICAgICAgICIgIG1lbnVfYV9iX3Rlc3RpbmdfaWQgPSByb3cubWVudV9hX2JfdGVzdGluZ19pZFxuIiwKICAgICAgICAiICBsbG1fbWFya2V0aW5nX3BhcnNlZF9yZXNwb25zZSA9IHJvdy5sbG1fbWFya2V0aW5nX3BhcnNlZF9yZXNwb25zZVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHByaW50KGZcIm1lbnVfYV9iX3Rlc3RpbmdfaWQ6IHttZW51X2FfYl90ZXN0aW5nX2lkfVwiKVxuIiwKICAgICAgICAiICBwcmludChmXCJsbG1fbWFya2V0aW5nX3BhcnNlZF9yZXNwb25zZToge2xsbV9tYXJrZXRpbmdfcGFyc2VkX3Jlc3BvbnNlfVwiKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHByb21wdD1mXCJcIlwiQ29udmVydCB0aGUgYmVsb3cgdGV4dCBpbnRvIGEgd2VsbC1zdHJ1Y3R1cmVkIEhUTUwgZG9jdW1lbnQuXG4iLAogICAgICAgICJUaGUgZG9jdW1lbnQgc2hvdWxkIGhhdmUgYW4gZW1haWwgc2VjdGlvbiwgYSBUd2l0dGVyIHNlY3Rpb24gY2FsbGVkIFwiWFwiIGFuZCBhbiBJbnN0YWdyYW0gc2VjdGlvbi5cbiIsCiAgICAgICAgIkNyZWF0ZSBhIGhlYWRlciBmb3IgZWFjaCBzZWN0aW9uOiBFbWFpbCBDYW1wYWlnbiwgWCBDYW1wYWlnbiwgSW5zdGFncmFtIENhbXBhaWduLlxuIiwKICAgICAgICAiVGhlIEVtYWlsIENhbXBhaWduIHNlY3Rpb24gc2hvdWxkIHVzZSB0aGUgY29sb3IgXCIjRURGMkY5XCIgZm9yIHRoZSBiYWNrZ3JvdW5kLlxuIiwKICAgICAgICAiVGhlIFggQ2FtcGFpZ24gc2VjdGlvbiBzaG91bGQgdXNlIHRoZSBjb2xvciBXaGl0ZSBmb3IgdGhlIGJhY2tncm91bmQuXG4iLAogICAgICAgICJUaGUgSW5zdGFncmFtIENhbXBhaWduIHNlY3Rpb24gc2hvdWxkIHVzZSB0aGUgY29sb3IgXCIjRURGMkY5XCIgZm9yIHRoZSBiYWNrZ3JvdW5kLlxuIiwKICAgICAgICAiU2VwZXJhdGUgZWFjaCBDYW1wYWlnbiBzZWN0aW9uIHdpdGggc3BhY2UgYW5kIGEgbGluZS5cbiIsCiAgICAgICAgIlJlZnJhaW4gZnJvbSB1c2luZyA8aDE+LCA8aDI+LCA8aDM+LCBhbmQgPGg0PiB0YWdzLlxuIiwKICAgICAgICAiRG8gbm90IGNyZWF0ZSBhIHRlbXBsYXRlIHRoYXQgdXNlcyBzcXVhcmUgb3IgY3VybHkgYnJhY2VzLCB1c2UgdGhlIGFjdHVhbCB0ZXh0LlxuIiwKICAgICAgICAiQ3JlYXRlIGlubGluZSBzdHlsZXMuXG4iLAogICAgICAgICJNYWtlIHRoZSBzdHlsZXMgZnVuLCBleWUgY2F0Y2hpbmcgYW5kIGV4Y2l0aW5nLlxuIiwKICAgICAgICAiVXNlIFwiSGVsdmV0aWNhIE5ldWVcIiBhcyB0aGUgZm9udC5cbiIsCiAgICAgICAgIkFsbCB0ZXh0IHNob3VsZCBiZSBsZWZ0IGFsaWduZWQuXG4iLAogICAgICAgICJBdm9pZCBmb250cyBsYXJnZXIgdGhhbiAxNiBwaXhlbHMuXG4iLAogICAgICAgICJEbyBub3QgY2hhbmdlIHRoZSBsYW5ndWFnZS4gIEtlZXAgdGhlIHRleHQgaW4gdGhlIG5hdGl2ZSBsYW5ndWFnZS5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiSW5jbHVkZSB0aGUgZm9sbG93aW5nIGltYWdlIGluIHRoZSBodG1sIGF0IHRoZSB2ZXJ5IGJvdHRvbiBpbiBpdHMgb3duIHNlY3Rpb246XG4iLAogICAgICAgICItIFRoZSBpbWFnZSBpcyBsb2NhdGVkIGF0OiBodHRwczovL1JFUExBQ0VfTUVcbiIsCiAgICAgICAgIi0gVGhlIGltYWdlIHVybCBzaG91bGQgaGF2ZSBhIFwid2lkdGhcIiBvZiA1MDAgYW5kIFwiaGVpZ2h0XCIgb2YgNTAwLlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJEb3VibGUgY2hlY2sgdGhhdCB5b3UgZGlkIG5vdCB1c2UgYW55IDxoMT4sIDxoMj4sIDxoMz4sIG9yIDxoND4gdGFncy5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiVGV4dDpcbiIsCiAgICAgICAgIntsbG1fbWFya2V0aW5nX3BhcnNlZF9yZXNwb25zZX1cbiIsCiAgICAgICAgIlwiXCJcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHByaW50KGZcInByb21wdDoge3Byb21wdH1cIilcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgVGhlIExMTSBjYW4gZ2VuZXJhdGUgc29tZSBIVE1MIHRhZ3MgdGhhdCBjYW4gY2F1c2UgaXNzdWVzIHdoZW4gcGFyc2luZyB0aGUgcmVzdWx0XG4iLAogICAgICAgICIgIGxsbV9zdWNjZXNzID0gRmFsc2VcbiIsCiAgICAgICAgIiAgdGVtcGVyYXR1cmUgPSAuNVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHdoaWxlIGxsbV9zdWNjZXNzID09IEZhbHNlOlxuIiwKICAgICAgICAiICAgIHRyeTpcbiIsCiAgICAgICAgIiAgICAgIGxsbV9yZXNwb25zZSA9IEdlbWluaVByb0xMTShwcm9tcHQsIHRlbXBlcmF0dXJlPXRlbXBlcmF0dXJlLCB0b3BQPS41LCB0b3BLID0gMjApXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAgIGlmIGxsbV9yZXNwb25zZS5zdGFydHN3aXRoKFwiaHRtbFwiKTpcbiIsCiAgICAgICAgIiAgICAgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlWzQ6XSAjIGluY2FzZSB0aGUgcmVzcG9uc2UgaXMgZm9ybWF0dGVkIGxpa2UgbWFya2Rvd25cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgICAgIyBkb3dubG9hZCBmaWxlXG4iLAogICAgICAgICIgICAgICBmaWxlbmFtZSA9IHN0cihtZW51X2FfYl90ZXN0aW5nX2lkKSArIFwiLnBuZ1wiXG4iLAogICAgICAgICIgICAgICBkb3dubG9hZF9mcm9tX2djcyhmaWxlbmFtZSwgZ2NzX3N0b3JhZ2VfYnVja2V0LCBnY3Nfc3RvcmFnZV9wYXRoKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgICAjIG9wZW4gbG9jYWxseVxuIiwKICAgICAgICAiICAgICAgaW1hZ2VCYXNlNjQgPSBjb252ZXJ0X3BuZ190b19iYXNlNjQoZmlsZW5hbWUpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAgICMgUmVwbGFjZSB0aGUgaW1hZ2Ugd2l0aCBhbiBpbmxpbmUgaW1hZ2UgKHRoaXMgYXZvaWRzIGEgU2lnbmVkVVJMIG9yIHB1YmxpYyBhY2Nlc3MgdG8gR0NTIGJ1Y2tldClcbiIsCiAgICAgICAgIiAgICAgIGh0bWxfdGV4dCA9IGxsbV9yZXNwb25zZS5yZXBsYWNlKFwiaHR0cHM6Ly9SRVBMQUNFX01FXCIsIGZcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwge2ltYWdlQmFzZTY0fVwiKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgICBmaWxlbmFtZT0gc3RyKG1lbnVfYV9iX3Rlc3RpbmdfaWQpICsgXCIuaHRtbFwiXG4iLAogICAgICAgICIgICAgICB3aXRoIG9wZW4oZmlsZW5hbWUsIFwid1wiLCBlbmNvZGluZz0ndXRmOCcpIGFzIGY6XG4iLAogICAgICAgICIgICAgICAgIGYud3JpdGUoaHRtbF90ZXh0KVxuIiwKICAgICAgICAiICAgICAgcHJpbnQgKFwiXCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAgIGNvcHlfZmlsZV90b19nY3MoZmlsZW5hbWUsIGdjc19zdG9yYWdlX2J1Y2tldCwgZ2NzX3N0b3JhZ2VfcGF0aCArIGZpbGVuYW1lKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgICBzcWwgPSBcIlVQREFURSBgZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2UuZGF0YV9iZWFuc19zeW50aGV0aWNfZGF0YS5tZW51X2FfYl90ZXN0aW5nYCBcIiArIFxcXG4iLAogICAgICAgICIgICAgICAgICAgICAgIFwiU0VUIGh0bWxfZ2VuZXJhdGVkID0gVFJVRSwgXCIgKyBcXFxuIiwKICAgICAgICAiICAgICAgICAgICAgICAgICAgXCJodG1sX2ZpbGVuYW1lID0gJ1wiICsgXCJnczovL2RhdGEtYmVhbnMtZGVtby1temJlbW1wOHNlL2RhdGEtYmVhbnMvbWVudS1pbWFnZXMtYS1iLXRlc3RpbmcvXCIgKyBmaWxlbmFtZSArIFwiJywgXCIgXFxcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgICAgIFwiaHRtbF91cmwgPSAnXCIgKyBcImh0dHBzOi8vc3RvcmFnZS5jbG91ZC5nb29nbGUuY29tL2RhdGEtYmVhbnMtY3VyYXRlZC1temJlbW1wOHNlL2RhdGEtYmVhbnMvbWVudS1pbWFnZXMtYS1iLXRlc3RpbmcvXCIgKyBmaWxlbmFtZSArIFwiJyBcIiBcXFxuIiwKICAgICAgICAiICAgICAgICAgICAgXCJXSEVSRSBtZW51X2FfYl90ZXN0aW5nX2lkID0gXCIgKyBzdHIobWVudV9hX2JfdGVzdGluZ19pZClcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgICAgUnVuUXVlcnkoc3FsKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgICBsbG1fc3VjY2VzcyA9IFRydWVcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgIGV4Y2VwdDpcbiIsCiAgICAgICAgIiAgICAgICMgUmVkdWNlIHRoZSB0ZW1wZXJhdHVyZSBmb3IgbW9yZSBhY2N1cmF0ZSBnZW5lcmF0aW9uXG4iLAogICAgICAgICIgICAgICB0ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlIC0gLjA1XG4iLAogICAgICAgICIgICAgICBwcmludChcIlJlZ2VuZXJhdGluZy4uLlwiKVxuIiwKICAgICAgICAiICAgICAgaWYgdGVtcGVyYXR1cmUgPD0gMDpcbiIsCiAgICAgICAgIiAgICAgICAgbGxtX3N1Y2Nlc3MgPSBUcnVlXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBicmVha1xuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICIxMzhWdWUwM1lfMU8iCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMgWW91IGNhbiBoYXJkY29kZSBvbmUgaWYgeW91IGxpa2U6IGUuZy4gXCIxLmh0bWxcIlxuIiwKICAgICAgICAiSFRNTChmaWxlbmFtZSkiCiAgICAgIF0KICAgIH0KICBdLAogICJtZXRhZGF0YSI6IHsKICAgICJjb2xhYiI6IHsKICAgICAgImNvbGxhcHNlZF9zZWN0aW9ucyI6IFsKICAgICAgICAiMnVWbnZmd0RCMy1yIiwKICAgICAgICAibXNxSDFGbm1CMy1zIiwKICAgICAgICAiOHp5MGVFSm1IeFJaIiwKICAgICAgICAiWXRadUZnamJPanNvIiwKICAgICAgICAieFVvbFBzTUZPanBaIiwKICAgICAgICAiRTVDRlNkSzNIeFltIiwKICAgICAgICAiLUw5M3VkdHJIMU96IiwKICAgICAgICAiclZDWTkzSXlYUG9PIiwKICAgICAgICAiQmx4ZGROenBtQWdwIiwKICAgICAgICAiTU9uTUw4anBkd3pnIiwKICAgICAgICAiM19TdUZvYjNXeWpwIgogICAgICBdLAogICAgICAibmFtZSI6ICJCaWdRdWVyeSB0YWJsZSIsCiAgICAgICJwcml2YXRlX291dHB1dHMiOiB0cnVlLAogICAgICAicHJvdmVuYW5jZSI6IFtdCiAgICB9LAogICAgImtlcm5lbHNwZWMiOiB7CiAgICAgICJkaXNwbGF5X25hbWUiOiAiUHl0aG9uIDMiLAogICAgICAibmFtZSI6ICJweXRob24zIgogICAgfSwKICAgICJsYW5ndWFnZV9pbmZvIjogewogICAgICAibmFtZSI6ICJweXRob24iCiAgICB9CiAgfSwKICAibmJmb3JtYXQiOiA0LAogICJuYmZvcm1hdF9taW5vciI6IDAKfQo="}}}}