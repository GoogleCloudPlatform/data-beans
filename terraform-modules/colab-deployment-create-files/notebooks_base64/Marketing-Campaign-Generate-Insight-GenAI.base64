{"commitMetadata": {"author": {"name": "Google Data Bean","emailAddress": "no-reply@google.com"},"commitMessage": "Committing Colab notebook"},"fileOperations": {"content.ipynb": {"writeFile": {"contents" : "ewogICJjZWxscyI6IFsKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiazZlSXFlckZPenlqIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyA8aW1nIHNyYz1cImh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9tVVRiTkszMmNfRFRTTnJocUVUVDVhUUpZRktvazJIQjFHMm5rMk1aSHZHNWJTczB2X2xtRG1fQXJXN3JnZDZTREdIWG8wQWsydUZGVTk2WDZYZDBHUT13MTYwLWgxMjhcIiB3aWR0aD1cIjQ1XCIgdmFsaWduPVwidG9wXCIgYWx0PVwiQmlnUXVlcnlcIj4gVXNpbmcgR2VuQUkgKEdlbWluaSBQcm8gYW5kIEltYWdlbjIpIHRvIGNyZWF0ZSBhIE1hcmtldGluZyBDYW1wYWlnblxuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjoge30sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyBMaWNlbnNlIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjoge30sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiIsCiAgICAgICAgIiMgQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuIiwKICAgICAgICAiI1xuIiwKICAgICAgICAiIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuIiwKICAgICAgICAiIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4iLAogICAgICAgICIjIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuIiwKICAgICAgICAiIyBcbiIsCiAgICAgICAgIiMgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiIsCiAgICAgICAgIiMgXG4iLAogICAgICAgICIjIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiIsCiAgICAgICAgIiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuIiwKICAgICAgICAiIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiIsCiAgICAgICAgIiMgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuIiwKICAgICAgICAiIyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiIsCiAgICAgICAgIiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjoge30sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyBOb3RlYm9vayBPdmVydmlldyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiMHpLSS1aUjFTcG9nIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIqKkdvYWw6KipcbiIsCiAgICAgICAgIi0gQ3JlYXRlIGEgbWFya2V0aW5nIGNhbXBhaWduIHRoYXQgd2lsbCBiZSBlbWFpbCB0byBjdXN0b21lcnMuICBUaGUgY2FtcGFpZ24gc2hvdWxkIGJlIGEgSFRNTCBlbWFpbCB3aXRoIGEgcGljdHVyZSBvZiB0aGUgY29mZmVlL2Zvb2QuXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIioqU3RlcHM6KipcbiIsCiAgICAgICAgIjEuIERldGVybWluZSB0aGUgaXRlbXMgd2Ugd2FudCB0byBzZWxsIGZyb20gb3VyIG1lbnUgdGFibGUuXG4iLAogICAgICAgICIyLiBDcmVhdGUgYSBiYXNpYyBMTE0gcHJvbXB0IGZvciBJbWFnZW4gMiB0byByZW5kZXIgdGhlIGltYWdlLlxuIiwKICAgICAgICAiMy4gV2Ugd2FudCBhIHJlYWxseSBnb29kIGltYWdlIHRoYXQgaW5zcGlyZXMgb3VyIGN1c3RvbWVycyB0byBwdXJjaGFzZSBvdXIgY29mZmVlL2Zvb2Qgc28gd2Ugd2lsbCBicmFpbnN0b3JtIHdpdGggdGhlIExMTVxuIiwKICAgICAgICAiICAgLSBBc2sgR2VtaW5pIFBybyB0byB0YWtlIG91ciBvcmlnaW5hbCBpbWFnZSBwcm9tcHQgYW5kIGNyZWF0ZSAxMCBuZXcgY3JlYXRpdmUgcHJvbXB0cy5cbiIsCiAgICAgICAgIiAgIC0gV2UgYXJlIHVzaW5nIHRoZSBMTE0gdG8gd3JpdGUgb3VyIHByb21wdCBmb3IgdXMuXG4iLAogICAgICAgICIgICAtIFdlIHdpbGwgYWxzbyBhZGQgaW4gYSBwcm9tcHQgdGhhdCBoYXMgbm90aGluZyB0byBkbyB3aXRoIGNvZmZlZS9mb29kICgpXG4iLAogICAgICAgICI0LiBXZSB3YW50IHRvIHZlcmlmeSB0aGUgaW1hZ2UgY29udGFpbnMgdGhlIG9yaWdpbmFsIGNvZmZlZS9mb29kIGl0ZW1zIHdlIHJlcXVlc3RlZC5cbiIsCiAgICAgICAgIiAgIC0gVGhlIExMTSBtaWdodCBoYXZlIGJlZW4gdG9vIGNyZWF0aXZlIHNvIGxldCdzIHZlcmlmeSBlYWNoIGltYWdlLlxuIiwKICAgICAgICAiICAgLSBQYXNzIGVhY2ggaW1hZ2UgdG8gR2VtaW5pIFBybyBWaXNpb24gYW5kIGFzayBpdCB0byB2ZXJpZnkgdGhlIGNvbnRlbnRzIG9mIHRoZSBpbWFnZSBhbmQgZXhwbGFpbiBpdHMgcmVhc29uaW5nLlxuIiwKICAgICAgICAiNS4gRm9yIGVhY2ggb2YgdGhlIHZlcmlmaWVkIGltYWdlcywgbGV0J3MgZG8gYSB0YXN0ZSB0ZXN0LlxuIiwKICAgICAgICAiICAgLSBQYXNzIGFsbCB0aGUgaW1hZ2VzIHRvIEdlbWluaSBQcm8gVmlzaW9uIGFuZCBhc2sgaXQgdG8gcmF0ZSBlYWNoIGltYWdlIGZyb20gMSB0byAxMDAuXG4iLAogICAgICAgICIgICAtIFJhdGUgdGhlIGltYWdlcyBiYXNlZCB1cG9uIGhvdyByZWFsaXN0aWMgdGhleSBhcmUgYW5kIGNyZWF0aXZlLlxuIiwKICAgICAgICAiICAgLSBIYXZlIHRoZSBMTE0gZXhwbGFpbiBpdHMgcmVhc29uaW5nXG4iLAogICAgICAgICI2LiBXZSBub3cgaGF2ZSB0aGUgaGlnaGVzdCByYXRlZCBpbWFnZSBhbmQgd2UgY2FuIHNlZSBpdCBjb21wYXJlZCB0byB0aGUgb3JpZ2luYWwgaW1hZ2UuXG4iLAogICAgICAgICI3LiBOb3csIHdlIHdpbGwgZ2VuZXJhdGUgb3VyIG1hcmtldGluZyBjYW1wYWlnbi4gIFxuIiwKICAgICAgICAiICAgLSBXZSB3aWxsIHBhc3Mgb3VyIHByb21wdCBhbmQgdGhlIGltYWdlIHRvIEdlbWluaSBQcm8gVmlzaW9uIGFuZCBhc2sgaXQgZ2VuZXJhdGUgYSBtYXJrZXRpbmcgY2FtcGFpZ24uXG4iLAogICAgICAgICIgICAtIFdlIHdpbGwgZG8gdGhpcyBmb3IgZWFjaCBDaXR5XG4iLAogICAgICAgICIgICAtIFdlIHdpbGwgYXNrIHRoZSBMTE0gdG8gd3JpdGUgdGhlIGNhbXBhaWduIGluIHRoZSBuYXRpdmUgbGFuZ3VhZ2UgZm9yIGVhY2ggY2l0eSAoRW5nbGlzaCwgSmFwYW5lc2UpXG4iLAogICAgICAgICI4LiBXaXRoIHRoZSBtYXJrZXRpbmcgdGV4dCB3ZSB3aWxsIG5vdyBuZWVkIGl0IGZvcm1hdHRlZCBhcyBIVE1MXG4iLAogICAgICAgICIgICAtIFBhc3MgdGhlIG1hcmtldGluZyB0ZXh0IHRvIGFzayBHZW1pbmkgdG8gY3JlYXRlIEhUTUxcbiIsCiAgICAgICAgIiAgIC0gQXNrIEdlbWluaSB0byBzdHlsZSB0aGUgZW1haWxcbiIsCiAgICAgICAgIiAgIC0gQXNrIEdlbWluaSB0byBsZWF2ZSBhIHBsYWNlaG9sZGVyIGZvciBvdXIgaW1hZ2VcbiIsCiAgICAgICAgIjkuIFdpdGggdGhlIEhNVEwgbm93IHJlcGxhY2UgdGhlIHBsYWNlaG9sZGVyIHdpdGggb3VyIGltYWdlXG4iLAogICAgICAgICIgICAtIFRoZSBpbWFnZSBpcyBiYXNlNjQgZW5jb2RlZCBzbyB3ZSBpbmxpbmUgdGhlIGltYWdlIHZlcnN1cyBob3N0aW5nIGl0IG9uIGEgc2VydmVyLlxuIiwKICAgICAgICAiMTAuIFNhdmUgZXZlcnl0aGluZyB0byBCaWdRdWVyeVxuIiwKICAgICAgICAiICAgICAgLSBTYXZlIGEgcmVjb3JkIGZvciBlYWNoIGNpdHlcbiIsCiAgICAgICAgIiAgICAgIC0gU2F2ZSBhbGwgb2Ygb3VyIHByb21wdHMgKHdlIGNhbiB1c2UgdGhpcyBsYXRlciB0byBsZWFybiB3aGljaCBwcm9tcHRzIGdlbmVyYXRlIHRoZSBiZXN0IHJlc3VsdHMpXG4iLAogICAgICAgICIgICAgICAtIFNhdmUgdGhlIEhUTUwgKFVURi04IGZvciBpbnRlcm5hdGlvbmFsIGNoYXJhY3RlciBzdXBwb3J0KVxuIiwKICAgICAgICAiICAgICAgLSBTYXZlIHRoZSBpbWFnZXMgdG8gYSBHQ1MgYnVja2V0IgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICI4enkwZUVKbUh4UloiCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIEluaXRpYWxpemUgUHl0aG9uIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICIzd2lydVQyNjZIM2UiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgInByb2plY3RfaWQ9XCJkYXRhLWJlYW5zLWRlbW8tbXpiZW1tcDhzZVwiXG4iLAogICAgICAgICJsb2NhdGlvbj1cInVzLWNlbnRyYWwxXCJcbiIsCiAgICAgICAgIm1vZGVsX2lkID0gXCJpbWFnZWdlbmVyYXRpb25AMDA1XCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiIyBObyBuZWVkIHRvIHNldCB0aGVzZVxuIiwKICAgICAgICAiY2l0eV9uYW1lcz1bXCJOZXcgWW9yayBDaXR5XCIsIFwiTG9uZG9uXCIsIFwiVG9reW9cIiwgXCJTYW4gRnJhbmNpc2NvXCJdXG4iLAogICAgICAgICJjaXR5X2lkcz1bMSwyLDMsNF1cbiIsCiAgICAgICAgImNpdHlfbGFuZ3VhZ2VzPVtcIkFtZXJpY2FuIEVuZ2xpc2hcIiwgXCJCcml0aXNoIEVuZ2xpc2hcIiwgXCJKYXBhbmVzZVwiLCBcIkFtZXJpY2FuIEVuZ2xpc2hcIl1cbiIsCiAgICAgICAgIm51bWJlcl9vZl9jb2ZmZWVfdHJ1Y2tzID0gXCI0XCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAibGxtX21hcmtldGluZ19wcm9tcHQgPSBbXVxuIiwKICAgICAgICAibGxtX21hcmtldGluZ19wcm9tcHRfdGV4dCA9IFtdXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImxsbV9tYXJrZXRpbmdfcHJvbXB0X2h0bWwgPSBbXVxuIiwKICAgICAgICAibGxtX21hcmtldGluZ19wcm9tcHRfaHRtbF90ZXh0ID0gW11cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiZ2NzX3N0b3JhZ2VfYnVja2V0ID0gXCJkYXRhLWJlYW5zLWN1cmF0ZWQtbXpiZW1tcDhzZVwiXG4iLAogICAgICAgICJnY3Nfc3RvcmFnZV9wYXRoID0gXCJkYXRhLWJlYW5zL21hcmtldGluZy1jYW1wYWlnbi9cIiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiejROcFAwcENIMHBqIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJmcm9tIFBJTCBpbXBvcnQgSW1hZ2VcbiIsCiAgICAgICAgImZyb20gSVB5dGhvbi5kaXNwbGF5IGltcG9ydCBIVE1MXG4iLAogICAgICAgICJpbXBvcnQgSVB5dGhvbi5kaXNwbGF5XG4iLAogICAgICAgICJpbXBvcnQgZ29vZ2xlLmF1dGhcbiIsCiAgICAgICAgImltcG9ydCByZXF1ZXN0c1xuIiwKICAgICAgICAiaW1wb3J0IGpzb25cbiIsCiAgICAgICAgImltcG9ydCB1dWlkXG4iLAogICAgICAgICJpbXBvcnQgYmFzZTY0XG4iLAogICAgICAgICJpbXBvcnQgb3NcbiIsCiAgICAgICAgImltcG9ydCBjdjJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiZnJvbSBnb29nbGUuY2xvdWQgaW1wb3J0IGJpZ3F1ZXJ5XG4iLAogICAgICAgICJjbGllbnQgPSBiaWdxdWVyeS5DbGllbnQoKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiWXRadUZnamJPanNvIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyBJbWFnZW4yIC8gR2VtaW5pIFBybyAvIEdlbWluaSBQcm8gVmlzaW9uIChIZWxwZXIgRnVuY3Rpb25zKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAieFVvbFBzTUZPanBaIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyMjIEltYWdlbjIiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIkxQZjZOdXJoTmkybCIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIEltYWdlR2VuKHByb21wdCk6XG4iLAogICAgICAgICIgIGNyZWRzLCBwcm9qZWN0ID0gZ29vZ2xlLmF1dGguZGVmYXVsdCgpXG4iLAogICAgICAgICIgIGF1dGhfcmVxID0gZ29vZ2xlLmF1dGgudHJhbnNwb3J0LnJlcXVlc3RzLlJlcXVlc3QoKSAjIHJlcXVpcmVkIHRvIGFjZXNzIGFjY2VzcyB0b2tlblxuIiwKICAgICAgICAiICBjcmVkcy5yZWZyZXNoKGF1dGhfcmVxKVxuIiwKICAgICAgICAiICBhY2Nlc3NfdG9rZW49Y3JlZHMudG9rZW5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBoZWFkZXJzID0ge1xuIiwKICAgICAgICAiICAgICAgXCJDb250ZW50LVR5cGVcIiA6IFwiYXBwbGljYXRpb24vanNvblwiLFxuIiwKICAgICAgICAiICAgICAgXCJBdXRob3JpemF0aW9uXCIgOiBcIkJlYXJlciBcIiArIGFjY2Vzc190b2tlblxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvZ2VuZXJhdGl2ZS1haS9tb2RlbC1yZWZlcmVuY2UvaW1hZ2UtZ2VuZXJhdGlvblxuIiwKICAgICAgICAiICB1cmwgPSBmXCJodHRwczovL3tsb2NhdGlvbn0tYWlwbGF0Zm9ybS5nb29nbGVhcGlzLmNvbS92MS9wcm9qZWN0cy97cHJvamVjdH0vbG9jYXRpb25zL3tsb2NhdGlvbn0vcHVibGlzaGVycy9nb29nbGUvbW9kZWxzL2ltYWdlZ2VuZXJhdGlvbjpwcmVkaWN0XCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBwYXlsb2FkID0ge1xuIiwKICAgICAgICAiICAgIFwiaW5zdGFuY2VzXCI6IFtcbiIsCiAgICAgICAgIiAgICAgIHtcbiIsCiAgICAgICAgIiAgICAgICAgXCJwcm9tcHRcIjogcHJvbXB0XG4iLAogICAgICAgICIgICAgICB9XG4iLAogICAgICAgICIgICAgXSxcbiIsCiAgICAgICAgIiAgICBcInBhcmFtZXRlcnNcIjoge1xuIiwKICAgICAgICAiICAgICAgXCJzYW1wbGVDb3VudFwiOiAxXG4iLAogICAgICAgICIgICAgfVxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbj1wYXlsb2FkLCBoZWFkZXJzPWhlYWRlcnMpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOlxuIiwKICAgICAgICAiICAgIGltYWdlX2RhdGEgPSBqc29uLmxvYWRzKHJlc3BvbnNlLmNvbnRlbnQpW1wicHJlZGljdGlvbnNcIl1bMF1bXCJieXRlc0Jhc2U2NEVuY29kZWRcIl1cbiIsCiAgICAgICAgIiAgICBpbWFnZV9kYXRhID0gYmFzZTY0LmI2NGRlY29kZShpbWFnZV9kYXRhKVxuIiwKICAgICAgICAiICAgIGZpbGVuYW1lPSBzdHIodXVpZC51dWlkNCgpKSArIFwiLnBuZ1wiXG4iLAogICAgICAgICIgICAgd2l0aCBvcGVuKGZpbGVuYW1lLCBcIndiXCIpIGFzIGY6XG4iLAogICAgICAgICIgICAgICBmLndyaXRlKGltYWdlX2RhdGEpXG4iLAogICAgICAgICIgICAgcHJpbnQoZlwiSW1hZ2UgZ2VuZXJhdGVkIE9LLlwiKVxuIiwKICAgICAgICAiICAgIHJldHVybiBmaWxlbmFtZVxuIiwKICAgICAgICAiICBlbHNlOlxuIiwKICAgICAgICAiICAgIGVycm9yID0gZlwiRXJyb3Igd2l0aCBwcm9tcHQ6J3twcm9tcHR9JyAgU3RhdHVzOid7cmVzcG9uc2Uuc3RhdHVzX2NvZGV9JyBUZXh0Oid7cmVzcG9uc2UudGV4dH0nXCJcbiIsCiAgICAgICAgIiAgICByYWlzZSBSdW50aW1lRXJyb3IoZXJyb3IpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJFNUNGU2RLM0h4WW0iCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgR2VtaW5pIFBybyBMTE0iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIjlqVEJ6Y1NJTWJ3ZyIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIEdlbWluaVByb0xMTShwcm9tcHQsIHRlbXBlcmF0dXJlID0gLjgsIHRvcFAgPSAuOCwgdG9wSyA9IDQwKTpcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBpZiB0ZW1wZXJhdHVyZSA8IDA6XG4iLAogICAgICAgICIgICAgdGVtcGVyYXR1cmUgPSAwXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgY3JlZHMsIHByb2plY3QgPSBnb29nbGUuYXV0aC5kZWZhdWx0KClcbiIsCiAgICAgICAgIiAgYXV0aF9yZXEgPSBnb29nbGUuYXV0aC50cmFuc3BvcnQucmVxdWVzdHMuUmVxdWVzdCgpICMgcmVxdWlyZWQgdG8gYWNlc3MgYWNjZXNzIHRva2VuXG4iLAogICAgICAgICIgIGNyZWRzLnJlZnJlc2goYXV0aF9yZXEpXG4iLAogICAgICAgICIgIGFjY2Vzc190b2tlbj1jcmVkcy50b2tlblxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGhlYWRlcnMgPSB7XG4iLAogICAgICAgICIgICAgICBcIkNvbnRlbnQtVHlwZVwiIDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4iLAogICAgICAgICIgICAgICBcIkF1dGhvcml6YXRpb25cIiA6IFwiQmVhcmVyIFwiICsgYWNjZXNzX3Rva2VuXG4iLAogICAgICAgICIgIH1cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAjIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9nZW5lcmF0aXZlLWFpL21vZGVsLXJlZmVyZW5jZS9nZW1pbmlcbiIsCiAgICAgICAgIiAgdXJsID0gZlwiaHR0cHM6Ly97bG9jYXRpb259LWFpcGxhdGZvcm0uZ29vZ2xlYXBpcy5jb20vdjEvcHJvamVjdHMve3Byb2plY3RfaWR9L2xvY2F0aW9ucy97bG9jYXRpb259L3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscy9nZW1pbmktMi4wLWZsYXNoOnN0cmVhbUdlbmVyYXRlQ29udGVudFwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcGF5bG9hZCA9IHtcbiIsCiAgICAgICAgIiAgICBcImNvbnRlbnRzXCI6IHtcbiIsCiAgICAgICAgIiAgICAgIFwicm9sZVwiOiBcInVzZXJcIixcbiIsCiAgICAgICAgIiAgICAgIFwicGFydHNcIjoge1xuIiwKICAgICAgICAiICAgICAgICAgIFwidGV4dFwiOiBwcm9tcHRcbiIsCiAgICAgICAgIiAgICAgIH0sXG4iLAogICAgICAgICIgICAgfSxcbiIsCiAgICAgICAgIiAgICBcInNhZmV0eV9zZXR0aW5nc1wiOiB7XG4iLAogICAgICAgICIgICAgICBcImNhdGVnb3J5XCI6IFwiSEFSTV9DQVRFR09SWV9TRVhVQUxMWV9FWFBMSUNJVFwiLFxuIiwKICAgICAgICAiICAgICAgXCJ0aHJlc2hvbGRcIjogXCJCTE9DS19MT1dfQU5EX0FCT1ZFXCJcbiIsCiAgICAgICAgIiAgICB9LFxuIiwKICAgICAgICAiICAgIFwiZ2VuZXJhdGlvbl9jb25maWdcIjoge1xuIiwKICAgICAgICAiICAgICAgXCJ0ZW1wZXJhdHVyZVwiOiB0ZW1wZXJhdHVyZSxcbiIsCiAgICAgICAgIiAgICAgIFwidG9wUFwiOiB0b3BQLFxuIiwKICAgICAgICAiICAgICAgXCJ0b3BLXCI6IHRvcEssXG4iLAogICAgICAgICIgICAgICBcIm1heE91dHB1dFRva2Vuc1wiOiA4MTkyLFxuIiwKICAgICAgICAiICAgICAgXCJjYW5kaWRhdGVDb3VudFwiOiAxXG4iLAogICAgICAgICIgICAgfVxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbj1wYXlsb2FkLCBoZWFkZXJzPWhlYWRlcnMpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOlxuIiwKICAgICAgICAiICAgIGpzb25fcmVzcG9uc2UgPSBqc29uLmxvYWRzKHJlc3BvbnNlLmNvbnRlbnQpXG4iLAogICAgICAgICIgICAgbGxtX3Jlc3BvbnNlID0gXCJcIlxuIiwKICAgICAgICAiICAgIGZvciBpdGVtIGluIGpzb25fcmVzcG9uc2U6XG4iLAogICAgICAgICIgICAgICB0cnk6XG4iLAogICAgICAgICIgICAgICAgIGxsbV9yZXNwb25zZSA9IGxsbV9yZXNwb25zZSArIGl0ZW1bXCJjYW5kaWRhdGVzXCJdWzBdW1wiY29udGVudFwiXVtcInBhcnRzXCJdWzBdW1widGV4dFwiXVxuIiwKICAgICAgICAiICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlcnI6XG4iLAogICAgICAgICIgICAgICAgIHByaW50KGZcInJlc3BvbnNlLmNvbnRlbnQ6IHtyZXNwb25zZS5jb250ZW50fVwiKVxuIiwKICAgICAgICAiICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZXJyKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgIyBSZW1vdmUgc29tZSB0eXBpY2FsbHkgcmVzcG9uc2UgY2hhcmFjdGVycyAoaWYgYXNraW5nIGZvciBhIEpTT04gcmVwbHkpXG4iLAogICAgICAgICIgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlLnJlcGxhY2UoXCJgYGBqc29uXCIsXCJcIilcbiIsCiAgICAgICAgIiAgICBsbG1fcmVzcG9uc2UgPSBsbG1fcmVzcG9uc2UucmVwbGFjZShcImBgYFwiLFwiXCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAjIHByaW50KGZcImxsbV9yZXNwb25zZTpcXG57bGxtX3Jlc3BvbnNlfVwiKVxuIiwKICAgICAgICAiICAgIHJldHVybiBsbG1fcmVzcG9uc2VcbiIsCiAgICAgICAgIiAgZWxzZTpcbiIsCiAgICAgICAgIiAgICBlcnJvciA9IGZcIkVycm9yIHdpdGggcHJvbXB0Oid7cHJvbXB0fScgIFN0YXR1czone3Jlc3BvbnNlLnN0YXR1c19jb2RlfScgVGV4dDone3Jlc3BvbnNlLnRleHR9J1wiXG4iLAogICAgICAgICIgICAgcmFpc2UgUnVudGltZUVycm9yKGVycm9yKVxuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICItTDkzdWR0ckgxT3oiCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgR2VtaW5pIFBybyBWaXNpb24gTExNIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJlY3ZyVXlwMEJjWGciCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMgVXNlIHRoZSBHZW1pbmkgd2l0aCBWaXNpb25cbiIsCiAgICAgICAgImRlZiBHZW1pbmlQcm9WaXNpb25MTE0ocHJvbXB0LCBpbWFnZUJhc2U2NCwgdGVtcGVyYXR1cmUgPSAuNCwgdG9wUCA9IDEsIHRvcEsgPSAzMik6XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgaWYgdGVtcGVyYXR1cmUgPCAwOlxuIiwKICAgICAgICAiICAgIHRlbXBlcmF0dXJlID0gMFxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGNyZWRzLCBwcm9qZWN0ID0gZ29vZ2xlLmF1dGguZGVmYXVsdCgpXG4iLAogICAgICAgICIgIGF1dGhfcmVxID0gZ29vZ2xlLmF1dGgudHJhbnNwb3J0LnJlcXVlc3RzLlJlcXVlc3QoKSAjIHJlcXVpcmVkIHRvIGFjZXNzIGFjY2VzcyB0b2tlblxuIiwKICAgICAgICAiICBjcmVkcy5yZWZyZXNoKGF1dGhfcmVxKVxuIiwKICAgICAgICAiICBhY2Nlc3NfdG9rZW49Y3JlZHMudG9rZW5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBoZWFkZXJzID0ge1xuIiwKICAgICAgICAiICAgICAgXCJDb250ZW50LVR5cGVcIiA6IFwiYXBwbGljYXRpb24vanNvblwiLFxuIiwKICAgICAgICAiICAgICAgXCJBdXRob3JpemF0aW9uXCIgOiBcIkJlYXJlciBcIiArIGFjY2Vzc190b2tlblxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvZ2VuZXJhdGl2ZS1haS9tb2RlbC1yZWZlcmVuY2UvZ2VtaW5pXG4iLAogICAgICAgICIgIHVybCA9IGZcImh0dHBzOi8ve2xvY2F0aW9ufS1haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tL3YxL3Byb2plY3RzL3twcm9qZWN0X2lkfS9sb2NhdGlvbnMve2xvY2F0aW9ufS9wdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaDpzdHJlYW1HZW5lcmF0ZUNvbnRlbnRcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHBheWxvYWQgPSB7XG4iLAogICAgICAgICIgIFwiY29udGVudHNcIjogW1xuIiwKICAgICAgICAiICAgICAge1xuIiwKICAgICAgICAiICAgICAgICBcInJvbGVcIjogXCJ1c2VyXCIsXG4iLAogICAgICAgICIgICAgICAgIFwicGFydHNcIjogW1xuIiwKICAgICAgICAiICAgICAgICAgIHtcbiIsCiAgICAgICAgIiAgICAgICAgICAgIFwidGV4dFwiOiBwcm9tcHRcbiIsCiAgICAgICAgIiAgICAgICAgICB9LFxuIiwKICAgICAgICAiICAgICAgICAgIHtcbiIsCiAgICAgICAgIiAgICAgICAgICAgIFwiaW5saW5lRGF0YVwiOiB7XG4iLAogICAgICAgICIgICAgICAgICAgICAgIFwibWltZVR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiIsCiAgICAgICAgIiAgICAgICAgICAgICAgXCJkYXRhXCI6IGZcIntpbWFnZUJhc2U2NH1cIlxuIiwKICAgICAgICAiICAgICAgICAgICAgfVxuIiwKICAgICAgICAiICAgICAgICAgIH1cbiIsCiAgICAgICAgIiAgICAgICAgXVxuIiwKICAgICAgICAiICAgICAgfVxuIiwKICAgICAgICAiICAgIF0sXG4iLAogICAgICAgICIgICAgXCJzYWZldHlfc2V0dGluZ3NcIjoge1xuIiwKICAgICAgICAiICAgICAgXCJjYXRlZ29yeVwiOiBcIkhBUk1fQ0FURUdPUllfU0VYVUFMTFlfRVhQTElDSVRcIixcbiIsCiAgICAgICAgIiAgICAgIFwidGhyZXNob2xkXCI6IFwiQkxPQ0tfTE9XX0FORF9BQk9WRVwiXG4iLAogICAgICAgICIgICAgfSxcbiIsCiAgICAgICAgIiAgICBcImdlbmVyYXRpb25fY29uZmlnXCI6IHtcbiIsCiAgICAgICAgIiAgICAgIFwidGVtcGVyYXR1cmVcIjogdGVtcGVyYXR1cmUsXG4iLAogICAgICAgICIgICAgICBcInRvcFBcIjogdG9wUCxcbiIsCiAgICAgICAgIiAgICAgIFwidG9wS1wiOiB0b3BLLFxuIiwKICAgICAgICAiICAgICAgXCJtYXhPdXRwdXRUb2tlbnNcIjogMjA0OCxcbiIsCiAgICAgICAgIiAgICAgIFwiY2FuZGlkYXRlQ291bnRcIjogMVxuIiwKICAgICAgICAiICAgIH1cbiIsCiAgICAgICAgIiAgfVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCh1cmwsIGpzb249cGF5bG9hZCwgaGVhZGVycz1oZWFkZXJzKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDpcbiIsCiAgICAgICAgIiAgICBqc29uX3Jlc3BvbnNlID0ganNvbi5sb2FkcyhyZXNwb25zZS5jb250ZW50KVxuIiwKICAgICAgICAiICAgIGxsbV9yZXNwb25zZSA9IFwiXCJcbiIsCiAgICAgICAgIiAgICBmb3IgaXRlbSBpbiBqc29uX3Jlc3BvbnNlOlxuIiwKICAgICAgICAiICAgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlICsgaXRlbVtcImNhbmRpZGF0ZXNcIl1bMF1bXCJjb250ZW50XCJdW1wicGFydHNcIl1bMF1bXCJ0ZXh0XCJdXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAjIFJlbW92ZSBzb21lIHR5cGljYWxseSByZXNwb25zZSBjaGFyYWN0ZXJzIChpZiBhc2tpbmcgZm9yIGEgSlNPTiByZXBseSlcbiIsCiAgICAgICAgIiAgICBsbG1fcmVzcG9uc2UgPSBsbG1fcmVzcG9uc2UucmVwbGFjZShcImBgYGpzb25cIixcIlwiKVxuIiwKICAgICAgICAiICAgIGxsbV9yZXNwb25zZSA9IGxsbV9yZXNwb25zZS5yZXBsYWNlKFwiYGBgXCIsXCJcIilcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgICMgcHJpbnQoZlwibGxtX3Jlc3BvbnNlOlxcbntsbG1fcmVzcG9uc2V9XCIpXG4iLAogICAgICAgICIgICAgcmV0dXJuIGxsbV9yZXNwb25zZVxuIiwKICAgICAgICAiICBlbHNlOlxuIiwKICAgICAgICAiICAgIGVycm9yID0gZlwiRXJyb3Igd2l0aCBwcm9tcHQ6J3twcm9tcHR9JyAgU3RhdHVzOid7cmVzcG9uc2Uuc3RhdHVzX2NvZGV9JyBUZXh0Oid7cmVzcG9uc2UudGV4dH0nXCJcbiIsCiAgICAgICAgIiAgICByYWlzZSBSdW50aW1lRXJyb3IoZXJyb3IpXG4iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIlFOejZwb2Z2ZlhEUyIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyBVc2UgdGhlIEdlbWluaSB3aXRoIFZpc2lvblxuIiwKICAgICAgICAiZGVmIEdlbWluaVByb1Zpc2lvbk11bHRpcGxlRmlsZUxMTShwcm9tcHQsIGltYWdlX3Byb21wdCwgdGVtcGVyYXR1cmUgPSAuNCwgdG9wUCA9IDEsIHRvcEsgPSAzMik6XG4iLAogICAgICAgICIgIGNyZWRzLCBwcm9qZWN0ID0gZ29vZ2xlLmF1dGguZGVmYXVsdCgpXG4iLAogICAgICAgICIgIGF1dGhfcmVxID0gZ29vZ2xlLmF1dGgudHJhbnNwb3J0LnJlcXVlc3RzLlJlcXVlc3QoKSAjIHJlcXVpcmVkIHRvIGFjZXNzIGFjY2VzcyB0b2tlblxuIiwKICAgICAgICAiICBjcmVkcy5yZWZyZXNoKGF1dGhfcmVxKVxuIiwKICAgICAgICAiICBhY2Nlc3NfdG9rZW49Y3JlZHMudG9rZW5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBoZWFkZXJzID0ge1xuIiwKICAgICAgICAiICAgICAgXCJDb250ZW50LVR5cGVcIiA6IFwiYXBwbGljYXRpb24vanNvblwiLFxuIiwKICAgICAgICAiICAgICAgXCJBdXRob3JpemF0aW9uXCIgOiBcIkJlYXJlciBcIiArIGFjY2Vzc190b2tlblxuIiwKICAgICAgICAiICB9XG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvZ2VuZXJhdGl2ZS1haS9tb2RlbC1yZWZlcmVuY2UvZ2VtaW5pXG4iLAogICAgICAgICIgIHVybCA9IGZcImh0dHBzOi8ve2xvY2F0aW9ufS1haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tL3YxL3Byb2plY3RzL3twcm9qZWN0X2lkfS9sb2NhdGlvbnMve2xvY2F0aW9ufS9wdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaDpzdHJlYW1HZW5lcmF0ZUNvbnRlbnRcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcGFydHMgPSBbXVxuIiwKICAgICAgICAiICBuZXdfaXRlbSA9IHtcbiIsCiAgICAgICAgIiAgICAgIFwidGV4dFwiOiBwcm9tcHRcbiIsCiAgICAgICAgIiAgICAgIH1cbiIsCiAgICAgICAgIiAgcGFydHMuYXBwZW5kKG5ld19pdGVtKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGZvciBpdGVtIGluIGltYWdlX3Byb21wdDpcbiIsCiAgICAgICAgIiAgICBuZXdfaXRlbSA9IHtcbiIsCiAgICAgICAgIiAgICAgICAgXCJ0ZXh0XCI6IGZcIkltYWdlIE5hbWU6IHtpdGVtWydsbG1faW1hZ2VfZmlsZW5hbWUnXX06XFxuXCJcbiIsCiAgICAgICAgIiAgICAgICAgfVxuIiwKICAgICAgICAiICAgIHBhcnRzLmFwcGVuZChuZXdfaXRlbSlcbiIsCiAgICAgICAgIiAgICBuZXdfaXRlbSA9IHtcbiIsCiAgICAgICAgIiAgICAgICAgXCJpbmxpbmVEYXRhXCI6IHtcbiIsCiAgICAgICAgIiAgICAgICAgICAgIFwibWltZVR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiIsCiAgICAgICAgIiAgICAgICAgICAgIFwiZGF0YVwiOiBpdGVtW1wibGxtX2ltYWdlX2Jhc2U2NFwiXVxuIiwKICAgICAgICAiICAgICAgICAgICAgfVxuIiwKICAgICAgICAiICAgICAgICB9XG4iLAogICAgICAgICIgICAgcGFydHMuYXBwZW5kKG5ld19pdGVtKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHBheWxvYWQgPSB7XG4iLAogICAgICAgICIgIFwiY29udGVudHNcIjogW1xuIiwKICAgICAgICAiICAgICAge1xuIiwKICAgICAgICAiICAgICAgICBcInJvbGVcIjogXCJ1c2VyXCIsXG4iLAogICAgICAgICIgICAgICAgIFwicGFydHNcIjogcGFydHNcbiIsCiAgICAgICAgIiAgICAgIH1cbiIsCiAgICAgICAgIiAgICBdLFxuIiwKICAgICAgICAiICAgIFwic2FmZXR5X3NldHRpbmdzXCI6IHtcbiIsCiAgICAgICAgIiAgICAgIFwiY2F0ZWdvcnlcIjogXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCIsXG4iLAogICAgICAgICIgICAgICBcInRocmVzaG9sZFwiOiBcIkJMT0NLX0xPV19BTkRfQUJPVkVcIlxuIiwKICAgICAgICAiICAgIH0sXG4iLAogICAgICAgICIgICAgXCJnZW5lcmF0aW9uX2NvbmZpZ1wiOiB7XG4iLAogICAgICAgICIgICAgICBcInRlbXBlcmF0dXJlXCI6IHRlbXBlcmF0dXJlLFxuIiwKICAgICAgICAiICAgICAgXCJ0b3BQXCI6IHRvcFAsXG4iLAogICAgICAgICIgICAgICBcInRvcEtcIjogdG9wSyxcbiIsCiAgICAgICAgIiAgICAgIFwibWF4T3V0cHV0VG9rZW5zXCI6IDIwNDgsXG4iLAogICAgICAgICIgICAgICBcImNhbmRpZGF0ZUNvdW50XCI6IDFcbiIsCiAgICAgICAgIiAgICB9XG4iLAogICAgICAgICIgIH1cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QodXJsLCBqc29uPXBheWxvYWQsIGhlYWRlcnM9aGVhZGVycylcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6XG4iLAogICAgICAgICIgICAganNvbl9yZXNwb25zZSA9IGpzb24ubG9hZHMocmVzcG9uc2UuY29udGVudClcbiIsCiAgICAgICAgIiAgICBsbG1fcmVzcG9uc2UgPSBcIlwiXG4iLAogICAgICAgICIgICAgZm9yIGl0ZW0gaW4ganNvbl9yZXNwb25zZTpcbiIsCiAgICAgICAgIiAgICAgIGxsbV9yZXNwb25zZSA9IGxsbV9yZXNwb25zZSArIGl0ZW1bXCJjYW5kaWRhdGVzXCJdWzBdW1wiY29udGVudFwiXVtcInBhcnRzXCJdWzBdW1widGV4dFwiXVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgIyBSZW1vdmUgc29tZSB0eXBpY2FsbHkgcmVzcG9uc2UgY2hhcmFjdGVycyAoaWYgYXNraW5nIGZvciBhIEpTT04gcmVwbHkpXG4iLAogICAgICAgICIgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlLnJlcGxhY2UoXCJgYGBqc29uXCIsXCJcIilcbiIsCiAgICAgICAgIiAgICBsbG1fcmVzcG9uc2UgPSBsbG1fcmVzcG9uc2UucmVwbGFjZShcImBgYFwiLFwiXCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAjIHByaW50KGZcImxsbV9yZXNwb25zZTpcXG57bGxtX3Jlc3BvbnNlfVwiKVxuIiwKICAgICAgICAiICAgIHJldHVybiBsbG1fcmVzcG9uc2VcbiIsCiAgICAgICAgIiAgZWxzZTpcbiIsCiAgICAgICAgIiAgICBlcnJvciA9IGZcIkVycm9yIHdpdGggcHJvbXB0Oid7cHJvbXB0fScgIFN0YXR1czone3Jlc3BvbnNlLnN0YXR1c19jb2RlfScgVGV4dDone3Jlc3BvbnNlLnRleHR9J1wiXG4iLAogICAgICAgICIgICAgcmFpc2UgUnVudGltZUVycm9yKGVycm9yKVxuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJyVkNZOTNJeVhQb08iCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgSGVscGVyIEZ1bmN0aW9ucyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiRTF5clBqdlZYTkN6IgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJkZWYgY29udmVydF9wbmdfdG9fYmFzZTY0KGltYWdlX3BhdGgpOlxuIiwKICAgICAgICAiICBpbWFnZSA9IGN2Mi5pbXJlYWQoaW1hZ2VfcGF0aClcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAjIENvbnZlcnQgdGhlIGltYWdlIHRvIGEgYmFzZTY0IHN0cmluZy5cbiIsCiAgICAgICAgIiAgXywgYnVmZmVyID0gY3YyLmltZW5jb2RlKCcucG5nJywgaW1hZ2UpXG4iLAogICAgICAgICIgIGJhc2U2NF9zdHJpbmcgPSBiYXNlNjQuYjY0ZW5jb2RlKGJ1ZmZlcikuZGVjb2RlKCd1dGYtOCcpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcmV0dXJuIGJhc2U2NF9zdHJpbmciCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogImpIQ3RYWXVSTlUwcCIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZGVmIFJ1blF1ZXJ5KHNxbCk6XG4iLAogICAgICAgICIgIGltcG9ydCB0aW1lXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgaWYgKHNxbC5zdGFydHN3aXRoKFwiU0VMRUNUXCIpIG9yIHNxbC5zdGFydHN3aXRoKFwiV0lUSFwiKSk6XG4iLAogICAgICAgICIgICAgICBkZl9yZXN1bHQgPSBjbGllbnQucXVlcnkoc3FsKS50b19kYXRhZnJhbWUoKVxuIiwKICAgICAgICAiICAgICAgcmV0dXJuIGRmX3Jlc3VsdFxuIiwKICAgICAgICAiICBlbHNlOlxuIiwKICAgICAgICAiICAgIGpvYl9jb25maWcgPSBiaWdxdWVyeS5RdWVyeUpvYkNvbmZpZyhwcmlvcml0eT1iaWdxdWVyeS5RdWVyeVByaW9yaXR5LklOVEVSQUNUSVZFKVxuIiwKICAgICAgICAiICAgIHF1ZXJ5X2pvYiA9IGNsaWVudC5xdWVyeShzcWwsIGpvYl9jb25maWc9am9iX2NvbmZpZylcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgICMgQ2hlY2sgb24gdGhlIHByb2dyZXNzIGJ5IGdldHRpbmcgdGhlIGpvYidzIHVwZGF0ZWQgc3RhdGUuXG4iLAogICAgICAgICIgICAgcXVlcnlfam9iID0gY2xpZW50LmdldF9qb2IoXG4iLAogICAgICAgICIgICAgICAgIHF1ZXJ5X2pvYi5qb2JfaWQsIGxvY2F0aW9uPXF1ZXJ5X2pvYi5sb2NhdGlvblxuIiwKICAgICAgICAiICAgIClcbiIsCiAgICAgICAgIiAgICBwcmludChcIkpvYiB7fSBpcyBjdXJyZW50bHkgaW4gc3RhdGUge30gd2l0aCBlcnJvciByZXN1bHQgb2Yge31cIi5mb3JtYXQocXVlcnlfam9iLmpvYl9pZCwgcXVlcnlfam9iLnN0YXRlLCBxdWVyeV9qb2IuZXJyb3JfcmVzdWx0KSlcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgIHdoaWxlIHF1ZXJ5X2pvYi5zdGF0ZSAhPSBcIkRPTkVcIjpcbiIsCiAgICAgICAgIiAgICAgIHRpbWUuc2xlZXAoMilcbiIsCiAgICAgICAgIiAgICAgIHF1ZXJ5X2pvYiA9IGNsaWVudC5nZXRfam9iKFxuIiwKICAgICAgICAiICAgICAgICAgIHF1ZXJ5X2pvYi5qb2JfaWQsIGxvY2F0aW9uPXF1ZXJ5X2pvYi5sb2NhdGlvblxuIiwKICAgICAgICAiICAgICAgICAgIClcbiIsCiAgICAgICAgIiAgICAgIHByaW50KFwiSm9iIHt9IGlzIGN1cnJlbnRseSBpbiBzdGF0ZSB7fSB3aXRoIGVycm9yIHJlc3VsdCBvZiB7fVwiLmZvcm1hdChxdWVyeV9qb2Iuam9iX2lkLCBxdWVyeV9qb2Iuc3RhdGUsIHF1ZXJ5X2pvYi5lcnJvcl9yZXN1bHQpKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgaWYgcXVlcnlfam9iLmVycm9yX3Jlc3VsdCA9PSBOb25lOlxuIiwKICAgICAgICAiICAgICAgcmV0dXJuIFRydWVcbiIsCiAgICAgICAgIiAgICBlbHNlOlxuIiwKICAgICAgICAiICAgICAgcmV0dXJuIEZhbHNlIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJwOWoxR2RBd05pZkIiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgImRlZiBHZXROZXh0UHJpbWFyeUtleShmdWxseV9xdWFsaWZpZWRfdGFibGVfbmFtZSwgZmllbGRfbmFtZSk6XG4iLAogICAgICAgICIgIHNxbCA9IGZcIlwiXCJcbiIsCiAgICAgICAgIiAgU0VMRUNUIElGTlVMTChNQVgoe2ZpZWxkX25hbWV9KSwwKSBBUyByZXN1bHRcbiIsCiAgICAgICAgIiAgICBGUk9NIGB7ZnVsbHlfcXVhbGlmaWVkX3RhYmxlX25hbWV9YFxuIiwKICAgICAgICAiICBcIlwiXCJcbiIsCiAgICAgICAgIiAgIyBwcmludChzcWwpXG4iLAogICAgICAgICIgIGRmX3Jlc3VsdCA9IGNsaWVudC5xdWVyeShzcWwpLnRvX2RhdGFmcmFtZSgpXG4iLAogICAgICAgICIgICMgZGlzcGxheShkZl9yZXN1bHQpXG4iLAogICAgICAgICIgIHJldHVybiBkZl9yZXN1bHRbJ3Jlc3VsdCddLmlsb2NbMF0gKyAxIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJ5bHEyY3JrbE51Q0IiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMgVGhpcyB3YXMgZ2VuZXJhdGVkIGJ5IEdlbkFJXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImRlZiBjb3B5X2ZpbGVfdG9fZ2NzKGxvY2FsX2ZpbGVfcGF0aCwgYnVja2V0X25hbWUsIGRlc3RpbmF0aW9uX2Jsb2JfbmFtZSk6XG4iLAogICAgICAgICIgIFwiXCJcIkNvcGllcyBhIGZpbGUgZnJvbSBhIGxvY2FsIGRyaXZlIHRvIGEgR0NTIGJ1Y2tldC5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBBcmdzOlxuIiwKICAgICAgICAiICAgICAgbG9jYWxfZmlsZV9wYXRoOiBUaGUgZnVsbCBwYXRoIHRvIHRoZSBsb2NhbCBmaWxlLlxuIiwKICAgICAgICAiICAgICAgYnVja2V0X25hbWU6IFRoZSBuYW1lIG9mIHRoZSBHQ1MgYnVja2V0IHRvIHVwbG9hZCB0by5cbiIsCiAgICAgICAgIiAgICAgIGRlc3RpbmF0aW9uX2Jsb2JfbmFtZTogVGhlIGRlc2lyZWQgbmFtZSBvZiB0aGUgdXBsb2FkZWQgZmlsZSBpbiB0aGUgYnVja2V0LlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIFJldHVybnM6XG4iLAogICAgICAgICIgICAgICBOb25lXG4iLAogICAgICAgICIgIFwiXCJcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGltcG9ydCBvc1xuIiwKICAgICAgICAiICBmcm9tIGdvb2dsZS5jbG91ZCBpbXBvcnQgc3RvcmFnZVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgRW5zdXJlIHRoZSBmaWxlIGV4aXN0cyBsb2NhbGx5XG4iLAogICAgICAgICIgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhsb2NhbF9maWxlX3BhdGgpOlxuIiwKICAgICAgICAiICAgICAgcmFpc2UgRmlsZU5vdEZvdW5kRXJyb3IoZlwiTG9jYWwgZmlsZSAne2xvY2FsX2ZpbGVfcGF0aH0nIG5vdCBmb3VuZC5cIilcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAjIENyZWF0ZSBhIHN0b3JhZ2UgY2xpZW50XG4iLAogICAgICAgICIgIHN0b3JhZ2VfY2xpZW50ID0gc3RvcmFnZS5DbGllbnQoKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBidWNrZXRcbiIsCiAgICAgICAgIiAgYnVja2V0ID0gc3RvcmFnZV9jbGllbnQuYnVja2V0KGJ1Y2tldF9uYW1lKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgQ3JlYXRlIGEgYmxvYiBvYmplY3Qgd2l0aCB0aGUgZGVzaXJlZCBkZXN0aW5hdGlvbiBwYXRoXG4iLAogICAgICAgICIgIGJsb2IgPSBidWNrZXQuYmxvYihkZXN0aW5hdGlvbl9ibG9iX25hbWUpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgIyBVcGxvYWQgdGhlIGZpbGUgZnJvbSB0aGUgbG9jYWwgZmlsZXN5c3RlbVxuIiwKICAgICAgICAiICBjb250ZW50X3R5cGUgPSBcIlwiXG4iLAogICAgICAgICIgIGlmIGxvY2FsX2ZpbGVfcGF0aC5lbmRzd2l0aChcIi5odG1sXCIpOlxuIiwKICAgICAgICAiICAgIGNvbnRlbnRfdHlwZSA9IFwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBpZiBsb2NhbF9maWxlX3BhdGguZW5kc3dpdGgoXCIuanNvblwiKTpcbiIsCiAgICAgICAgIiAgICBjb250ZW50X3R5cGUgPSBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGlmIGNvbnRlbnRfdHlwZSA9PSBcIlwiOlxuIiwKICAgICAgICAiICAgIGJsb2IudXBsb2FkX2Zyb21fZmlsZW5hbWUobG9jYWxfZmlsZV9wYXRoKVxuIiwKICAgICAgICAiICBlbHNlOlxuIiwKICAgICAgICAiICAgIGJsb2IudXBsb2FkX2Zyb21fZmlsZW5hbWUobG9jYWxfZmlsZV9wYXRoLCBjb250ZW50X3R5cGUgPSBjb250ZW50X3R5cGUpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcHJpbnQoZlwiRmlsZSAne2xvY2FsX2ZpbGVfcGF0aH0nIHVwbG9hZGVkIHRvIEdDUyBidWNrZXQgJ3tidWNrZXRfbmFtZX0nIGFzICd7ZGVzdGluYXRpb25fYmxvYl9uYW1lfS4gIENvbnRlbnQtVHlwZToge2NvbnRlbnRfdHlwZX0nLlwiKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAicGMxR0poVG9PdjJBIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyBHZW5lcmF0aW5nIGEgTWFya2V0aW5nIENhbXBhaWduIGZvciBlYWNoIENpdHkiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAibWFya2Rvd24iLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogInhiLTI5dmFkVnRoRCIKICAgICAgfSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyMjIyBMZXQncyBzdGFydCB3aXRoIGEgYmFzaWMgVmlzaW9uIHByb21wdCB0aGF0IGEgSHVtYW4gbWlnaHQgY3JlYXRlLlxuIiwKICAgICAgICAiLSBUaGlzIGlzIGEgYmFzaWMgcHJvbXB0IHRoYXQgc29tZW9uZSBtaWdodCBjcmVhdGUiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIklsN0N4dm1QNjJEWSIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyBUaGlzIHdpbGwgZ2VuZXJhdGUgYSBmYWlybHkgYmFzaWMgaW1hZ2UgdGhhdCBtaWdodCBub3QgYmUgdGhlIG1vc3QgaW52aXRpbmcgaW1hZ2VcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiZnJvbSByYW5kb20gaW1wb3J0IHJhbmRyYW5nZVxuIiwKICAgICAgICAicmFuZG9tXzFfdG9fNSA9IHJhbmRyYW5nZSg1KSArIDE7ICBcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiIyB5b3UgY2FuIGhhcmQgY29kZSB0aGlzIGZvciBhIHNwZWNpZmljIHZhbHVlXG4iLAogICAgICAgICJyYW5kb21fMV90b181ID0gNSBcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAibWF0Y2ggcmFuZG9tXzFfdG9fNTpcbiIsCiAgICAgICAgIiAgY2FzZSAxOlxuIiwKICAgICAgICAiICAgICAgICBwaWN0dXJlX2Rlc2NyaXB0aW9uID0gXCJDb2ZmZWUgR2xhemVkIERvbnV0IHdpdGggSmF2YSBDaGlwIFBhbmNha2VzXCJcbiIsCiAgICAgICAgIiAgY2FzZSAyOlxuIiwKICAgICAgICAiICAgICAgICBwaWN0dXJlX2Rlc2NyaXB0aW9uID0gXCJDYXBwdWNjaW5vIENoZWVzZWNha2Ugd2l0aCBhIENpbm5hbW9uIFNwaWNlIGxhdHRlXCJcbiIsCiAgICAgICAgIiAgY2FzZSAzOlxuIiwKICAgICAgICAiICAgICAgICBwaWN0dXJlX2Rlc2NyaXB0aW9uID0gXCJDb2ZmZWUtSW5mdXNlZCBDaG9jb2xhdGUgVHJ1ZmZsZXMgd2l0aCBDb2ZmZWUgQmVhbiBJY2UgQ3JlYW1cIlxuIiwKICAgICAgICAiICBjYXNlIDQ6XG4iLAogICAgICAgICIgICAgICAgIHBpY3R1cmVfZGVzY3JpcHRpb24gPSBcIkNvZmZlZSBUaXJhbWlzdSB3aXRoIENhZmUgQ29uIExlY2hlXCJcbiIsCiAgICAgICAgIiAgY2FzZSA1OlxuIiwKICAgICAgICAiICAgICAgICBwaWN0dXJlX2Rlc2NyaXB0aW9uID0gXCJNb2NoYSBQYW5jYWtlcyB3aXRoIFZhbmlsbGEgQmVhbiBpY2UgY3JlYW1cIlxuIiwKICAgICAgICAiICBjYXNlIF86XG4iLAogICAgICAgICIgICAgICBwaWN0dXJlX2Rlc2NyaXB0aW9uID0gXCJDb2ZmZWUgR2xhemVkIERvbnV0IHdpdGggSmF2YSBDaGlwIFBhbmNha2VzXCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAicHJpbnQoZlwiUGljdHVyZSBEZXNjcmlwdGlvbjoge3BpY3R1cmVfZGVzY3JpcHRpb259XCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImxsbV9odW1hbl9pbWFnZV9wcm9tcHQgPSBmXCJDcmVhdGUgYW4gaW1hZ2UgdGhhdCBjb250YWlucyBhIHtwaWN0dXJlX2Rlc2NyaXB0aW9ufSB0aGF0IEkgY2FuIHVzZSBmb3IgYSBtYXJrZXRpbmcgY2FtcGFpZ24uXCJcbiIsCiAgICAgICAgImh1bWFuX3Byb21wdF9maWxlbmFtZSA9IEltYWdlR2VuKGxsbV9odW1hbl9pbWFnZV9wcm9tcHQpXG4iLAogICAgICAgICJpbWcgPSBJbWFnZS5vcGVuKGh1bWFuX3Byb21wdF9maWxlbmFtZSlcbiIsCiAgICAgICAgImxsbV9odW1hbl9pbWFnZV9qc29uID0ge1xuIiwKICAgICAgICAiICAgIFwiZ2NzX3N0b3JhZ2VfYnVja2V0XCIgOiBnY3Nfc3RvcmFnZV9idWNrZXQsXG4iLAogICAgICAgICIgICAgXCJnY3Nfc3RvcmFnZV9wYXRoXCIgOiBnY3Nfc3RvcmFnZV9wYXRoLFxuIiwKICAgICAgICAiICAgIFwibGxtX2ltYWdlX2ZpbGVuYW1lXCIgOiBodW1hbl9wcm9tcHRfZmlsZW5hbWVcbiIsCiAgICAgICAgIn1cbiIsCiAgICAgICAgImltZy50aHVtYm5haWwoWzUwMCw1MDBdKVxuIiwKICAgICAgICAiSVB5dGhvbi5kaXNwbGF5LmRpc3BsYXkoaW1nKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiaFpuckllLTNXV1dmIgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyMjIE5vdyBsZXQncyBpbXByb3ZlIG91ciBpbWFnZSBieSBjYWxsaW5nIEdlbWluaSBQcm8gY3JlYXRlIGEgYmV0dGVyIEltYWdlbiAyIHByb21wdFxuIiwKICAgICAgICAiLSBMTE1zIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBMTE0gcHJvbXB0cyBmb3IgYmV0dGVyIHJlc3VsdHMuXG4iLAogICAgICAgICItIFdlIGFyZSBiYXNpY2FsbHkgYXNraW5nIHRoZSBMTE0gdG8gd3JpdGUgdGhlIHByb21wdCB0aGF0IHdlIHdpbGwgdGhlbiBzdWJtaXQgYXMgb3VyIEltYWdlbiAyIHByb21wdC4iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIk9MOGQ5aXV3SXYtRCIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZXhhbXBsZV9yZXR1cm5fanNvbiA9ICdbIHsgXCJwcm9tcHRcIiA6IFwicmVzcG9uc2UgMVwiIH0sIHsgXCJwcm9tcHRcIiA6IFwicmVzcG9uc2UgMlwiIH0sIHsgXCJwcm9tcHRcIiA6IFwiQSBwcm9tcHQgZm9yIGdvb2QgTExNc1wiIH0sIHsgXCJwcm9tcHRcIiA6IFwiR2VuZXJhdGUgYW4gaW1hZ2UgdGhhdCBpcyBhd2Vzb21lXCIgfV0nXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImxsbV9nZW5lcmF0ZWRfaW1hZ2VfcHJvbXB0PWZcIlwiXCJGb3IgdGhlIGJlbG93IHByb21wdCwgcmV3cml0ZSBpdCBpbiAxMCBkaWZmZXJlbnQgd2F5cyBzbyBJIGdldCB0aGUgbW9zdCBjcmVhdGl2ZSBpbWFnZXMgdG8gYmUgZ2VuZXJhdGVkLlxuIiwKICAgICAgICAiVHJ5IGNyZWF0aXZlIHRoaW5raW5nLCBnZW5lcmF0ZSBpbm5vdmF0aXZlIGFuZCBvdXQtb2YtdGhlLWJveCBpZGVhcyB0byBzb2x2ZSB0aGUgcHJvYmxlbS5cbiIsCiAgICAgICAgIkV4cGxvcmUgdW5jb252ZW50aW9uYWwgc29sdXRpb25zLCB0aGlua2luZyBiZXlvbmQgdHJhZGl0aW9uYWwgYm91bmRhcmllcywgYW5kIGVuY291cmFnaW5nIGltYWdpbmF0aW9uIGFuZCBvcmlnaW5hbGl0eS5cbiIsCiAgICAgICAgIkVtYnJhY2UgdW5jb252ZW50aW9uYWwgaWRlYXMgYW5kIG11dGF0ZSB0aGUgcHJvbXB0IGluIGEgd2F5IHRoYXQgc3VycHJpc2VzIGFuZCBpbnNwaXJlcyB1bmlxdWUgdmFyaWF0aW9ucy5cbiIsCiAgICAgICAgIlRoaW5rIG91dHNpZGUgdGhlIGJveCBhbmQgZGV2ZWxvcCBhIG11dGF0b3IgcHJvbXB0IHRoYXQgZW5jb3VyYWdlcyB1bmNvbnZlbnRpb25hbCBhcHByb2FjaGVzIGFuZCBmcmVzaCBwZXJzcGVjdGl2ZXMuXG4iLAogICAgICAgICJSZXR1cm4gdGhlIHJlc3VsdHMgaW4gYmVsb3cgXCJKU09OIGZvcm1hdFwiIHdpdGggbm8gc3BlY2lhbCBjaGFyYWN0ZXJzLCBoZWFkZXJzIG9yIGZvcm1hdHRpbmcuXG4iLAogICAgICAgICJMaW1pdCBlYWNoIGpzb24gcmVzdWx0IHRvIDI1NiBjaGFyYWN0ZXJzLlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJKU09OIGZvcm1hdDpcbiIsCiAgICAgICAgIntleGFtcGxlX3JldHVybl9qc29ufVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJQcm9tcHQ6IFwiQ3JlYXRlIGEgcGljdHVyZSBvZiBhIHtwaWN0dXJlX2Rlc2NyaXB0aW9ufSB0byBiZSB1c2VkIGZvciBhIG1hcmtldGluZyBjYW1wYWlnbi5cIlxuIiwKICAgICAgICAiXCJcIlwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImxsbV9zdWNjZXNzID0gRmFsc2VcbiIsCiAgICAgICAgInRlbXBlcmF0dXJlPS44XG4iLAogICAgICAgICJ3aGlsZSBsbG1fc3VjY2VzcyA9PSBGYWxzZTpcbiIsCiAgICAgICAgIiAgdHJ5OlxuIiwKICAgICAgICAiICAgIGxsbV9yZXNwb25zZSA9IEdlbWluaVByb0xMTShsbG1fZ2VuZXJhdGVkX2ltYWdlX3Byb21wdCwgdGVtcGVyYXR1cmU9dGVtcGVyYXR1cmUsIHRvcFA9LjgsIHRvcEsgPSA0MClcbiIsCiAgICAgICAgIiAgICBwcmludChsbG1fcmVzcG9uc2UpXG4iLAogICAgICAgICIgICAgYnJhY2tldF9pbmRleCA9IGxsbV9yZXNwb25zZS5maW5kKCdbJylcbiIsCiAgICAgICAgIiAgICBpZiBicmFja2V0X2luZGV4ID4gMDpcbiIsCiAgICAgICAgIiAgICAgIHByaW50KFwiUmVtb3ZpbmcgTExNIHRleHQgdGhhdCBwcmVjZWVkcyB0aGUgSlNPTlwiKVxuIiwKICAgICAgICAiICAgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlW2JyYWNrZXRfaW5kZXg6XVxuIiwKICAgICAgICAiICAgICAgcHJpbnQobGxtX3Jlc3BvbnNlKVxuIiwKICAgICAgICAiICAgIGpzb24ubG9hZHMobGxtX3Jlc3BvbnNlKVxuIiwKICAgICAgICAiICAgIGxsbV9zdWNjZXNzID0gVHJ1ZVxuIiwKICAgICAgICAiICBleGNlcHQ6XG4iLAogICAgICAgICIgICAgIyBSZWR1Y2UgdGhlIHRlbXBlcmF0dXJlIGZvciBtb3JlIGFjY3VyYXRlIGdlbmVyYXRpb25cbiIsCiAgICAgICAgIiAgICB0ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlIC0gLjA1XG4iLAogICAgICAgICIgICAgcHJpbnQoXCJSZWdlbmVyYXRpbmcuLi5cIikiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAibWFya2Rvd24iLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIl95RFhvVnYzVzhUQSIKICAgICAgfSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyMjIyBHZW5lcmF0ZSB0aGUgaW1hZ2VzIHdpdGggb3VyIGVuaGFuY2VkIHByb21wdHNcbiIsCiAgICAgICAgIi0gVXNlIG91ciBnZW5lcmF0ZWQgcHJvbXB0cyB0byBwYXNzIHRvIEltYWdlbiAyIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICI4TUJvYlZ4WFBmcU4iCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgImxsbV9qc29uID0ganNvbi5sb2FkcyhsbG1fcmVzcG9uc2UpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiMgQWRkIGFuIGltYWdlIHRvIHRoZSBnZW5lcmF0aW9uIHRoYXQgd2lsbCBub3QgY29udGFpbiBhbnkgZm9vZCBpdGVtcy4gIFdlIHdpbGwgdGVzdCB0aGlzIGxhdGVyLlxuIiwKICAgICAgICAibGxtX2pzb24uYXBwZW5kKHsncHJvbXB0JyA6ICdEcmF3IGEgY29mZmVlIHRydWNrIHdpdGggZGlzY28gbGlnaHRzLid9KVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJpbWFnZV9maWxlcyA9IFtdXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImZvciBpdGVtIGluIGxsbV9qc29uOlxuIiwKICAgICAgICAiICBwcmludChpdGVtW1wicHJvbXB0XCJdKVxuIiwKICAgICAgICAiICB0cnk6XG4iLAogICAgICAgICIgICAgaW1hZ2VfZmlsZSA9IEltYWdlR2VuKGl0ZW1bXCJwcm9tcHRcIl0pXG4iLAogICAgICAgICIgICAgaW1hZ2VfZmlsZXMuYXBwZW5kICh7XG4iLAogICAgICAgICIgICAgICAgIFwibGxtX3Byb21wdFwiIDogaXRlbVtcInByb21wdFwiXSxcbiIsCiAgICAgICAgIiAgICAgICAgXCJnY3Nfc3RvcmFnZV9idWNrZXRcIiA6IGdjc19zdG9yYWdlX2J1Y2tldCxcbiIsCiAgICAgICAgIiAgICAgICAgXCJnY3Nfc3RvcmFnZV9wYXRoXCIgOiBnY3Nfc3RvcmFnZV9wYXRoLFxuIiwKICAgICAgICAiICAgICAgICBcImxsbV9pbWFnZV9maWxlbmFtZVwiIDogaW1hZ2VfZmlsZSxcbiIsCiAgICAgICAgIiAgICAgICAgXCJsbG1fdmFsaWRhdGVkX2J5X2xsbVwiIDogRmFsc2VcbiIsCiAgICAgICAgIiAgICB9KVxuIiwKICAgICAgICAiICBleGNlcHQ6XG4iLAogICAgICAgICIgICAgcHJpbnQoXCJJbWFnZSBmYWlsZWQgdG8gZ2VuZXJhdGUuXCIpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJjdnhpYmhXM01aeGciCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMgVmlldyB0aGUgcmVzdWx0c1xuIiwKICAgICAgICAiXG4iLAogICAgICAgICJsbG1fZ2VuZXJhdGVkX2ltYWdlX2pzb24gPSBbXVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJmb3IgaXRlbSBpbiBpbWFnZV9maWxlczpcbiIsCiAgICAgICAgIiAgIyBKc29uIGZvciBCaWdRdWVyeVxuIiwKICAgICAgICAiICBsbG1fZ2VuZXJhdGVkX2ltYWdlX2pzb24uYXBwZW5kKCB7XG4iLAogICAgICAgICIgICAgICBcImxsbV9wcm9tcHRcIiA6IGl0ZW1bXCJsbG1fcHJvbXB0XCJdLFxuIiwKICAgICAgICAiICAgICAgXCJnY3Nfc3RvcmFnZV9idWNrZXRcIiA6IGl0ZW1bXCJnY3Nfc3RvcmFnZV9idWNrZXRcIl0sXG4iLAogICAgICAgICIgICAgICBcImdjc19zdG9yYWdlX3BhdGhcIiA6IGl0ZW1bXCJnY3Nfc3RvcmFnZV9wYXRoXCJdLFxuIiwKICAgICAgICAiICAgICAgXCJsbG1faW1hZ2VfZmlsZW5hbWVcIiA6IGl0ZW1bXCJsbG1faW1hZ2VfZmlsZW5hbWVcIl1cbiIsCiAgICAgICAgIiAgICAgIH0pXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgcHJpbnQoZlwiRmlsZW5hbWU6IHtpdGVtWydsbG1faW1hZ2VfZmlsZW5hbWUnXX1cIilcbiIsCiAgICAgICAgIiAgaW1nID0gSW1hZ2Uub3BlbihpdGVtW1wibGxtX2ltYWdlX2ZpbGVuYW1lXCJdKVxuIiwKICAgICAgICAiICBpbWcudGh1bWJuYWlsKFs1MDAsNTAwXSlcbiIsCiAgICAgICAgIiAgSVB5dGhvbi5kaXNwbGF5LmRpc3BsYXkoaW1nKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJtYXJrZG93biIsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiSnBRX0NFWWtCVVl1IgogICAgICB9LAogICAgICAic291cmNlIjogWwogICAgICAgICIjIyMjIFZlcmlmeSB0aGF0IGVhY2ggaW1hZ2UgY29udGFpbnMgdGhlIGZvb2QgaXRlbXMgd2UgYXNrZWQgZm9yXG4iLAogICAgICAgICItIElzIHRoZSBpbWFnZSBhbiBpbWFnZSB0aGF0IGFjdGF1bGx5IHJlcHJlc2VudHMgd2hhdCB3ZSBhc2tlZCBmb3I/XG4iLAogICAgICAgICItIFNvbWV0aW1lcyB0aGUgaW1hZ2UgbWlnaHQgbm90IGNvbnRhaW4gdGhlIGRldGFpbHMgd2UgYXNrZWQgZm9yLlxuIiwKICAgICAgICAiLSBXZSB3aWxsIHJ1biBlYWNoIGltYWdlIHRocm91Z2ggR2VtaW5pIFBybyBWaXNpb24gYW5kIHZlcmlmeSBpdCBpcyBhY3RhdWxseSB3aGF0IHdlIHdhbnQuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJIZ2dfVWFLRENOemYiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgImV4YW1wbGVfcmV0dXJuX2pzb24gPSAneyBcInJlc3BvbnNlXCIgOiB0cnVlLCBcImV4cGxhbmF0aW9uXCIgOiBcIlJlYXNvbiB3aHkuLi5cIiB9J1xuIiwKICAgICAgICAiXG4iLAogICAgICAgICJsbG1fdmFsaWRhdGVkX2ltYWdlX2pzb24gPSBbXVxuIiwKICAgICAgICAibnVtYmVyX29mX3ZhbGlkX2ltYWdlcyA9IDBcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAibGxtX3ZhbGlkYXRlZF9pbWFnZV9wcm9tcHQgPSBmXCJcIlwiSXMgYXR0YWNoZWQgaW1hZ2UgYSBwaWN0dXJlIG9mIFwie3BpY3R1cmVfZGVzY3JpcHRpb259XCI/XG4iLAogICAgICAgICJSZXNwb25kIHdpdGggYSBib29sZWFuIG9mIHRydWUgb3IgZmFsc2UgYW5kIHBsYWNlIGluIHRoZSBcInJlc3BvbnNlXCIgZmllbGQuXG4iLAogICAgICAgICJFeHBsYWluIHlvdXIgcmVhc29uaW5nIGZvciBlYWNoIGltYWdlIGFuZCBwbGFjZSBpbiB0aGUgXCJleHBsYW5hdGlvblwiIGZpZWxkLlxuIiwKICAgICAgICAiUmV0dXJuIHRoZSByZXN1bHRzIGluIEpTT04gd2l0aCBubyBzcGVjaWFsIGNoYXJhY3RlcnMgb3IgZm9ybWF0dGluZy5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiUGxhY2UgdGhlIHJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZyBKU09OIHN0cnVjdHVyZTpcbiIsCiAgICAgICAgIntleGFtcGxlX3JldHVybl9qc29ufVxuIiwKICAgICAgICAiXCJcIlwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImZvciBpdGVtIGluIGltYWdlX2ZpbGVzOlxuIiwKICAgICAgICAiICBwcmludChmXCJMTE0gUHJvbXB0IDoge2l0ZW1bJ2xsbV9wcm9tcHQnXX1cIilcbiIsCiAgICAgICAgIiAgcHJpbnQoZlwiTExNIEZpbGVuYW1lIDoge2l0ZW1bJ2xsbV9pbWFnZV9maWxlbmFtZSddfVwiKVxuIiwKICAgICAgICAiICBpbWFnZUJhc2U2NCA9IGNvbnZlcnRfcG5nX3RvX2Jhc2U2NChpdGVtWydsbG1faW1hZ2VfZmlsZW5hbWUnXSlcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBsbG1fc3VjY2VzcyA9IEZhbHNlXG4iLAogICAgICAgICIgIHRlbXBlcmF0dXJlID0gLjRcbiIsCiAgICAgICAgIiAgd2hpbGUgbGxtX3N1Y2Nlc3MgPT0gRmFsc2U6XG4iLAogICAgICAgICIgICAgdHJ5OlxuIiwKICAgICAgICAiICAgICAgbGxtX3Jlc3BvbnNlID0gR2VtaW5pUHJvVmlzaW9uTExNKGxsbV92YWxpZGF0ZWRfaW1hZ2VfcHJvbXB0LCBpbWFnZUJhc2U2NCwgdGVtcGVyYXR1cmU9dGVtcGVyYXR1cmUpXG4iLAogICAgICAgICIgICAgICBwcmludChmXCJsbG1fcmVzcG9uc2UgOiB7bGxtX3Jlc3BvbnNlfVwiKVxuIiwKICAgICAgICAiICAgICAgbGxtX2pzb24gPSBqc29uLmxvYWRzKGxsbV9yZXNwb25zZSlcbiIsCiAgICAgICAgIiAgICAgIGxsbV9zdWNjZXNzID0gVHJ1ZVxuIiwKICAgICAgICAiICAgIGV4Y2VwdDpcbiIsCiAgICAgICAgIiAgICAgICMgUmVkdWNlIHRoZSB0ZW1wZXJhdHVyZSBmb3IgbW9yZSBhY2N1cmF0ZSBnZW5lcmF0aW9uXG4iLAogICAgICAgICIgICAgICB0ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlIC0gLjA1XG4iLAogICAgICAgICIgICAgICBwcmludChcIlJlZ2VuZXJhdGluZy4uLlwiKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgTWFyayB0aGlzIGl0ZW0gYXMgdXNlYWJsZVxuIiwKICAgICAgICAiICBpZiBsbG1fanNvbltcInJlc3BvbnNlXCJdID09IFRydWU6XG4iLAogICAgICAgICIgICAgaXRlbVtcImxsbV92YWxpZGF0ZWRfYnlfbGxtXCJdID0gVHJ1ZVxuIiwKICAgICAgICAiICAgIG51bWJlcl9vZl92YWxpZF9pbWFnZXMgPSBudW1iZXJfb2ZfdmFsaWRfaW1hZ2VzICsgMVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGl0ZW1bXCJsbG1fdmFsaWRhdGVkX2J5X2xsbV9leHBsYW5hdGlvblwiXSA9IGxsbV9qc29uW1wiZXhwbGFuYXRpb25cIl1cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBsbG1fdmFsaWRhdGVkX2ltYWdlX2pzb24uYXBwZW5kKCB7XG4iLAogICAgICAgICIgICAgICBcImxsbV9wcm9tcHRcIiA6IGl0ZW1bXCJsbG1fcHJvbXB0XCJdLFxuIiwKICAgICAgICAiICAgICAgXCJnY3Nfc3RvcmFnZV9idWNrZXRcIiA6IGl0ZW1bXCJnY3Nfc3RvcmFnZV9idWNrZXRcIl0sXG4iLAogICAgICAgICIgICAgICBcImdjc19zdG9yYWdlX3BhdGhcIiA6IGl0ZW1bXCJnY3Nfc3RvcmFnZV9wYXRoXCJdLFxuIiwKICAgICAgICAiICAgICAgXCJsbG1faW1hZ2VfZmlsZW5hbWVcIiA6IGl0ZW1bXCJsbG1faW1hZ2VfZmlsZW5hbWVcIl0sXG4iLAogICAgICAgICIgICAgICBcImxsbV92YWxpZGF0ZWRfYnlfbGxtXCIgOiBpdGVtW1wibGxtX3ZhbGlkYXRlZF9ieV9sbG1cIl0sXG4iLAogICAgICAgICIgICAgICBcImxsbV92YWxpZGF0ZWRfYnlfbGxtX2V4cGxhbmF0aW9uXCIgOiBpdGVtW1wibGxtX3ZhbGlkYXRlZF9ieV9sbG1fZXhwbGFuYXRpb25cIl1cbiIsCiAgICAgICAgIiAgICAgIH0pIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJVRXMyU1ZmVmVObkoiCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgTm93IGxldCdzIGFzayB0aGUgTExNIHdoaWNoIG9uZSBsb29rcyB0aGUgdGFzdGllc3RcbiIsCiAgICAgICAgIi0gV2Ugd2FudCB0aGUgaW1hZ2UgdGhhdCBsb29rcyB0aGUgYmVzdCBzbyB3ZSB3aWxsIHJhdGUgZWFjaCBvbmUgZnJvbSAxIHRvIDEwXG4iLAogICAgICAgICItIEFkZCBhbGwgdGhlIHZlcmlmaWVkIGltYWdlcyB0byBhIEdlbWluaSBQcm8gVmlzaW9uIHByb21wdC4gIEdlbWluaSBzdXBwb3J0cyBtdWx0aW1vZGFsIHByb21wdHMuXG4iLAogICAgICAgICItIFRoaXMgd2lsbCBoZWxwIHVzIG5hcnJvdyBkb3duIHdoaWNoIGltYWdlIHdlIHdpbGwgdXNlIGZvciB0aGUgbWFya2V0aW5nIGNhbXBhaWduIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICI3Z3o5R1RjSmVSODkiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgImltYWdlX3Byb21wdCA9IFtdXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImZvciBpdGVtIGluIGltYWdlX2ZpbGVzOlxuIiwKICAgICAgICAiICBpZiBpdGVtW1wibGxtX3ZhbGlkYXRlZF9ieV9sbG1cIl0gPT0gVHJ1ZTpcbiIsCiAgICAgICAgIiAgICBwcmludChmXCJBZGRpbmcgaW1hZ2Uge2l0ZW1bJ2xsbV9pbWFnZV9maWxlbmFtZSddfSB0byB0YXN0ZSB0ZXN0LlwiKVxuIiwKICAgICAgICAiICAgIGltYWdlQmFzZTY0ID0gY29udmVydF9wbmdfdG9fYmFzZTY0KGl0ZW1bJ2xsbV9pbWFnZV9maWxlbmFtZSddKVxuIiwKICAgICAgICAiICAgIG5ld19pdGVtID0ge1xuIiwKICAgICAgICAiICAgICAgICBcImxsbV9pbWFnZV9maWxlbmFtZVwiIDogaXRlbVsnbGxtX2ltYWdlX2ZpbGVuYW1lJ10sXG4iLAogICAgICAgICIgICAgICAgIFwibGxtX2ltYWdlX2Jhc2U2NFwiIDogZlwie2ltYWdlQmFzZTY0fVwiXG4iLAogICAgICAgICIgICAgfVxuIiwKICAgICAgICAiICAgIGltYWdlX3Byb21wdC5hcHBlbmQobmV3X2l0ZW0pXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImV4YW1wbGVfcmV0dXJuX2pzb249J1sge1wiaW1hZ2VfbmFtZVwiIDogXCJuYW1lXCIsIFwicmF0aW5nXCIgOiAxMCwgXCJleHBsYW5hdGlvblwiOiBcIlwifV0nXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImxsbV90YXN0ZV90ZXN0X2ltYWdlX3Byb21wdD1mXCJcIlwiWW91IGFyZSBnb2luZyB0byBiZSBwcmVzZW50ZWQgd2l0aCB7bnVtYmVyX29mX3ZhbGlkX2ltYWdlc30uXG4iLAogICAgICAgICJZb3UgbXVzdCBjcml0aXF1ZSBlYWNoIGltYWdlIGFuZCBhc3NpZ24gaXQgYSBzY29yZSBmcm9tIDEgdG8gMTAwLlxuIiwKICAgICAgICAiWW91IHNob3VsZCBjb21wYXJlIHRoZSBpbWFnZXMgdG8gb25lIGFub3RoZXIuXG4iLAogICAgICAgICJZb3Ugc2hvdWxkIGV2YWx1YXRlIGVhY2ggaW1hZ2UgbXVsdGlwbGUgdGltZXMuXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIlNjb3JlIGVhY2ggaW1hZ2UgYmFzZWQgdXBvbiB0aGUgZm9sbG93aW5nOlxuIiwKICAgICAgICAiLSBBcHBldGl6aW5nIGltYWdlcyBzaG91bGQgZ2V0IGEgaGlnaCByYXRpbmcuXG4iLAogICAgICAgICItIFJlYWxpc3RpYyBpbWFnZXMgc2hvdWxkIGdldCBhIGhpZ2ggcmF0aW5nLlxuIiwKICAgICAgICAiLSBUaG91Z2h0IHByb3Zva2luZyBpbWFnZXMgc2hvdWxkIGdldCBhIGhpZ2ggcmF0aW5nLlxuIiwKICAgICAgICAiLSBQbGFzdGljIGxvb2tpbmcgaW1hZ2VzIHNob3VsZCBnZXQgYSBsb3cgcmF0aW5nLlxuIiwKICAgICAgICAiLSBBYnN0cmFjdCBpbWFnZXMgc2hvdWxkIGdldCBhIGxvdyByYXRpbmcuXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIlRoaW5rIHRoZSByYXRpbmcgdGhyb3VnaCBzdGVwIGJ5IHN0ZXAgZm9yIGVhY2ggaW1hZ2UuXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIlBsYWNlIHRoZSByZXN1bHQgb2YgdGhlIHNjb3JpbmcgcHJvY2VzcyBpbiB0aGUgXCJyYXRpbmdcIiBmaWVsZC5cbiIsCiAgICAgICAgIlJldHVybiB0aGUgaW1hZ2UgbmFtZSBhbmQgcGxhY2UgaW4gdGhlIFwiaW1hZ2VfbmFtZVwiIGZpZWxkLlxuIiwKICAgICAgICAiRXhwbGFpbiB5b3VyIHJlYXNvbmluZyBhbmQgcGxhY2UgaW4gdGhlIFwiZXhwbGFuYXRpb25cIiBmaWVsZCBpbiBsZXNzIHRoYW4gMjAgd29yZHMuXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIlBsYWNlIHRoZSByZXN1bHRzIGluIHRoZSBmb2xsb3dpbmcgSlNPTiBzdHJ1Y3R1cmU6XG4iLAogICAgICAgICJ7ZXhhbXBsZV9yZXR1cm5fanNvbn1cbiIsCiAgICAgICAgIlwiXCJcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJsbG1fc3VjY2VzcyA9IEZhbHNlXG4iLAogICAgICAgICJ0ZW1wZXJhdHVyZT0xXG4iLAogICAgICAgICJ3aGlsZSBsbG1fc3VjY2VzcyA9PSBGYWxzZTpcbiIsCiAgICAgICAgIiAgdHJ5OlxuIiwKICAgICAgICAiICAgIGxsbV9yZXNwb25zZSA9IEdlbWluaVByb1Zpc2lvbk11bHRpcGxlRmlsZUxMTShsbG1fdGFzdGVfdGVzdF9pbWFnZV9wcm9tcHQsIGltYWdlX3Byb21wdCwgdGVtcGVyYXR1cmUgPSB0ZW1wZXJhdHVyZSlcbiIsCiAgICAgICAgIiAgICBsbG1fc3VjY2VzcyA9IFRydWVcbiIsCiAgICAgICAgIiAgZXhjZXB0OlxuIiwKICAgICAgICAiICAgICMgUmVkdWNlIHRoZSB0ZW1wZXJhdHVyZSBmb3IgbW9yZSBhY2N1cmF0ZSBnZW5lcmF0aW9uXG4iLAogICAgICAgICIgICAgdGVtcGVyYXR1cmUgPSB0ZW1wZXJhdHVyZSAtIC4wNVxuIiwKICAgICAgICAiICAgIHByaW50KFwiUmVnZW5lcmF0aW5nLi4uXCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAicHJpbnQoZlwibGxtX3Jlc3BvbnNlIDoge2xsbV9yZXNwb25zZX1cIikiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogImg1cVAxWXBXbHVISCIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyBTaG93IHRoZSBoaWdoZXN0IHJhdGVkIGltYWdlIChhbmQgc2F2ZSB0aGUgaWQpXG4iLAogICAgICAgICJsbG1fanNvbiA9IGpzb24ubG9hZHMobGxtX3Jlc3BvbnNlKVxuIiwKICAgICAgICAiaGlnaGVzdF9yYXRlZF9sbG1faW1hZ2VfcmF0aW5nID0gMFxuIiwKICAgICAgICAiaGlnaGVzdF9yYXRlZF9sbG1faW1hZ2VfZmlsZW5hbWUgPSBcIlwiXG4iLAogICAgICAgICJsbG1fdGFzdGVfdGVzdF9pbWFnZV9qc29uID0gW11cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiZm9yIGl0ZW0gaW4gbGxtX2pzb246XG4iLAogICAgICAgICIgICMgRmluZCBhbmQgdXBkYXRlIGVhY2ggaW1hZ2Ugd2l0aCB0aGUgcmF0aW5nIGFuZCBleHBsYW5hdGlvblxuIiwKICAgICAgICAiICBmb3IgZXhpc3RpbmcgaW4gaW1hZ2VfZmlsZXM6XG4iLAogICAgICAgICIgICAgaWYgZXhpc3RpbmdbXCJsbG1faW1hZ2VfZmlsZW5hbWVcIl0gPT0gaXRlbVtcImltYWdlX25hbWVcIl06XG4iLAogICAgICAgICIgICAgICBleGlzdGluZ1tcImltYWdlX3JhdGluZ1wiXSA9IGl0ZW1bXCJyYXRpbmdcIl1cbiIsCiAgICAgICAgIiAgICAgIGV4aXN0aW5nW1wiaW1hZ2VfZXhwbGFuYXRpb25cIl0gPSBpdGVtW1wiZXhwbGFuYXRpb25cIl1cbiIsCiAgICAgICAgIiAgICAgIGxsbV90YXN0ZV90ZXN0X2ltYWdlX2pzb24uYXBwZW5kKCB7XG4iLAogICAgICAgICIgICAgICAgICAgXCJsbG1fcHJvbXB0XCIgOiBleGlzdGluZ1tcImxsbV9wcm9tcHRcIl0sXG4iLAogICAgICAgICIgICAgICAgICAgXCJnY3Nfc3RvcmFnZV9idWNrZXRcIiA6IGV4aXN0aW5nW1wiZ2NzX3N0b3JhZ2VfYnVja2V0XCJdLFxuIiwKICAgICAgICAiICAgICAgICAgIFwiZ2NzX3N0b3JhZ2VfcGF0aFwiIDogZXhpc3RpbmdbXCJnY3Nfc3RvcmFnZV9wYXRoXCJdLFxuIiwKICAgICAgICAiICAgICAgICAgIFwibGxtX2ltYWdlX2ZpbGVuYW1lXCIgOiBleGlzdGluZ1tcImxsbV9pbWFnZV9maWxlbmFtZVwiXSxcbiIsCiAgICAgICAgIiAgICAgICAgICBcImxsbV92YWxpZGF0ZWRfYnlfbGxtXCIgOiBleGlzdGluZ1tcImxsbV92YWxpZGF0ZWRfYnlfbGxtXCJdLFxuIiwKICAgICAgICAiICAgICAgICAgIFwibGxtX3ZhbGlkYXRlZF9ieV9sbG1fZXhwbGFuYXRpb25cIiA6IGV4aXN0aW5nW1wibGxtX3ZhbGlkYXRlZF9ieV9sbG1fZXhwbGFuYXRpb25cIl0sXG4iLAogICAgICAgICIgICAgICAgICAgXCJpbWFnZV9yYXRpbmdcIiA6IGV4aXN0aW5nW1wiaW1hZ2VfcmF0aW5nXCJdLFxuIiwKICAgICAgICAiICAgICAgICAgIFwiaW1hZ2VfcmF0aW5nX2V4cGxhbmF0aW9uXCIgOiBleGlzdGluZ1tcImltYWdlX2V4cGxhbmF0aW9uXCJdXG4iLAogICAgICAgICIgICAgICAgICAgfSlcbiIsCiAgICAgICAgIiAgICAgIGlmIGV4aXN0aW5nW1wiaW1hZ2VfcmF0aW5nXCJdID49IGhpZ2hlc3RfcmF0ZWRfbGxtX2ltYWdlX3JhdGluZzpcbiIsCiAgICAgICAgIiAgICAgICAgaGlnaGVzdF9yYXRlZF9sbG1faW1hZ2VfcmF0aW5nID0gZXhpc3RpbmdbXCJpbWFnZV9yYXRpbmdcIl1cbiIsCiAgICAgICAgIiAgICAgICAgaGlnaGVzdF9yYXRlZF9sbG1faW1hZ2VfZmlsZW5hbWUgPSBleGlzdGluZ1tcImxsbV9pbWFnZV9maWxlbmFtZVwiXVxuIiwKICAgICAgICAiICAgICAgYnJlYWtcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJwcmludChmXCJIaWdoZXN0IHJhdGVkIGhpZ2hlc3RfcmF0ZWRfbGxtX2ltYWdlX2ZpbGVuYW1lOiB7aGlnaGVzdF9yYXRlZF9sbG1faW1hZ2VfZmlsZW5hbWV9XCIpXG4iLAogICAgICAgICJpbWcgPSBJbWFnZS5vcGVuKGhpZ2hlc3RfcmF0ZWRfbGxtX2ltYWdlX2ZpbGVuYW1lKVxuIiwKICAgICAgICAiaW1nLnRodW1ibmFpbChbNTAwLDUwMF0pXG4iLAogICAgICAgICJJUHl0aG9uLmRpc3BsYXkuZGlzcGxheShpbWcpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJRYWw2RWxrR29ZUlgiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMgQ29tcGFyZSB0aGlzIHdpdGggb3VyIGh1bWFuIGdlbmVyYXRlZCBwcm9tcHQgaW1hZ2VcbiIsCiAgICAgICAgImltZyA9IEltYWdlLm9wZW4oaHVtYW5fcHJvbXB0X2ZpbGVuYW1lKVxuIiwKICAgICAgICAiaW1nLnRodW1ibmFpbChbNTAwLDUwMF0pXG4iLAogICAgICAgICJJUHl0aG9uLmRpc3BsYXkuZGlzcGxheShpbWcpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJNdnJxLXRDX2ltMk0iCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgTm93IHRoYXQgd2UgaGF2ZSBvdXIgaW1hZ2UsIGxldCdzIGdlbmVyYXRlIHRoZSBiZXN0IG1hcmtldGluZyB0ZXh0IgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJ6VU1RRVJCUzFRb0IiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgImV4YW1wbGVfcmV0dXJuX2pzb25fMSA9ICd7IFwiY2l0eVwiIDogXCJOZXcgWW9yayBDaXR5XCIsIFwic3ViamVjdFwiIDogXCJlbWFpbCBzdWJqZWN0XCIgLCBcImJvZHlcIiA6IFwiZW1haWwgYm9keVwiIH0nXG4iLAogICAgICAgICJleGFtcGxlX3JldHVybl9qc29uXzIgPSAneyBcImNpdHlcIiA6IFwiTG9uZG9uXCIsIFwic3ViamVjdFwiIDogXCJtYXJrZXRpbmcgc3ViamVjdFwiICwgXCJib2R5XCIgOiBcIlRoZSBib2R5IG9mIHRoZSBlbWFpbCBtZXNzYWdlXCIgfSdcbiIsCiAgICAgICAgImltYWdlQmFzZTY0ID0gY29udmVydF9wbmdfdG9fYmFzZTY0KGhpZ2hlc3RfcmF0ZWRfbGxtX2ltYWdlX2ZpbGVuYW1lKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJsbG1fbWFya2V0aW5nX2NhbXBhaWduID0gW11cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiIyBMb29wIGZvciBlYWNoIGNpdHlcbiIsCiAgICAgICAgImZvciBjaXR5X2luZGV4IGluIHJhbmdlKDAsIDQpOlxuIiwKICAgICAgICAiICBwcmludChmXCJQcm9jZXNzaW5nIGNpdHk6IHtjaXR5X25hbWVzW2NpdHlfaW5kZXhdfVwiKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHByb21wdD1mXCJcIlwiWW91IHJ1biBhIGZsZWV0IG9mIGNvZmZlZSB0cnVja3MgaW4ge2NpdHlfbmFtZXNbY2l0eV9pbmRleF19LlxuIiwKICAgICAgICAiICBXZSBuZWVkIHRvIGNyYWZ0IGEgY29tcGVsbGluZyBlbWFpbCBtYXJrZXRpbmcgY2FtcGFpZ24gZm9yIHRoZSBiZWxvdyBpbWFnZS5cbiIsCiAgICAgICAgIiAgRW1icmFjZSB1bmNvbnZlbnRpb25hbCBpZGVhcyBhbmQgdGhpbmtpbmcgdGhhdCBzdXJwcmlzZXMgYW5kIGluc3BpcmVzIHVuaXF1ZSB2YXJpYXRpb25zLlxuIiwKICAgICAgICAiICBXZSB3YW50IHRvIG9mZmVyIGV4Y2x1c2l2ZSBkaXNjb3VudHMgb3IgZWFybHkgYWNjZXNzIHRvIGRyaXZlIHNhbGVzLlxuIiwKICAgICAgICAiICBMb29rIGF0IHRoZSBpbWFnZSBhbmQgY29tZSB1cCB3aXRoIGEgc2F2b3J5IG1lc3NhZ2UuXG4iLAogICAgICAgICIgIFRoZSBpbWFnZSBjb250YWlucyBcIntwaWN0dXJlX2Rlc2NyaXB0aW9ufVwiLlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIFRoZSBtYXJrZXRpbmcgY2FtcGFpZ24gc2hvdWxkIHBlciBwZXJzb25hbGl6ZSBmb3Ige2NpdHlfbmFtZXNbY2l0eV9pbmRleF19LlxuIiwKICAgICAgICAiICBEbyBub3QgbWVudGlvbiB0aGUgd2VhdGhlciBpbiB0aGUgbWVzc2FnZS5cbiIsCiAgICAgICAgIiAgV3JpdGUgdGhlIHJlc3BvbnNlIGluIHVzaW5nIHRoZSBsYW5ndWFnZSBcIntjaXR5X2xhbmd1YWdlc1tjaXR5X2luZGV4XX1cIi5cbiIsCiAgICAgICAgIiAgVGhlIGNhbXBhaWduIHNob3VsZCBiZSBsZXNzIHRoYW4gMTUwMCBjaGFyYWN0ZXJzLlxuIiwKICAgICAgICAiICBUaGUgZW1haWwgbWVzc2FnZSBzaG91bGQgYmUgZm9ybWF0dGVkIGluIHRleHQsIG5vdCBIVE1MLlxuIiwKICAgICAgICAiICBTaWduIHRoZSBlbWFpbCBtZXNzYWdlIFwiU2luY2VyZWx5LCBEYXRhIEJlYW5zXCIuXG4iLAogICAgICAgICIgIE1lbnRpb24gdGhhdCBwZW9wbGUgY2FuIGZpbmQgdGhlIGNsb3Nlc3QgY29mZmVlIHRydWNrIGxvY2F0aW9uIGJ5IHVzaW5nIG91ciBtb2JpbGUgYXBwLlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIFJldHVybiB0aGUgcmVzdWx0cyBpbiBKU09OIHdpdGggbm8gc3BlY2lhbCBjaGFyYWN0ZXJzIG9yIGZvcm1hdHRpbmcuXG4iLAogICAgICAgICIgIERvdWJsZSBjaGVjayBmb3Igc3BlY2lhbCBjaGFyYWN0ZXJzIGVzcGVjaWFsbHkgZm9yIEphcGFuZXNlLlxuIiwKICAgICAgICAiICBQbGFjZSB0aGUgdmFsdWUgb2YgXCJ7Y2l0eV9uYW1lc1tjaXR5X2luZGV4XX1cIiBpbiB0aGUgXCJjaXR5XCIgZmllbGQgb2YgdGhlIEpTT04gcmVzcG9uc2UuXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgRXhhbXBsZSBSZXR1cm4gRGF0YTpcbiIsCiAgICAgICAgIiAge2V4YW1wbGVfcmV0dXJuX2pzb25fMX1cbiIsCiAgICAgICAgIiAge2V4YW1wbGVfcmV0dXJuX2pzb25fMn1cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBJbWFnZSBvZiBpdGVtcyB3ZSB3YW50IHRvIHNlbGw6XG4iLAogICAgICAgICIgIFwiXCJcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIGxsbV9zdWNjZXNzID0gRmFsc2VcbiIsCiAgICAgICAgIiAgdGVtcGVyYXR1cmUgPSAuOFxuIiwKICAgICAgICAiICB3aGlsZSBsbG1fc3VjY2VzcyA9PSBGYWxzZTpcbiIsCiAgICAgICAgIiAgICB0cnk6XG4iLAogICAgICAgICIgICAgICBsbG1fcmVzcG9uc2UgPSBHZW1pbmlQcm9WaXNpb25MTE0ocHJvbXB0LCBpbWFnZUJhc2U2NCwgdGVtcGVyYXR1cmU9LjgsIHRvcFA9LjksIHRvcEsgPSA0MClcbiIsCiAgICAgICAgIiAgICAgIGxsbV9qc29uID0ganNvbi5sb2FkcyhsbG1fcmVzcG9uc2UpXG4iLAogICAgICAgICIgICAgICBwcmludChsbG1fcmVzcG9uc2UpXG4iLAogICAgICAgICIgICAgICBsbG1fc3VjY2VzcyA9IFRydWVcbiIsCiAgICAgICAgIiAgICBleGNlcHQ6XG4iLAogICAgICAgICIgICAgICAjIFJlZHVjZSB0aGUgdGVtcGVyYXR1cmUgZm9yIG1vcmUgYWNjdXJhdGUgZ2VuZXJhdGlvblxuIiwKICAgICAgICAiICAgICAgdGVtcGVyYXR1cmUgPSB0ZW1wZXJhdHVyZSAtIC4wNVxuIiwKICAgICAgICAiICAgICAgcHJpbnQoXCJSZWdlbmVyYXRpbmcuLi5cIilcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBsbG1fbWFya2V0aW5nX2NhbXBhaWduLmFwcGVuZChsbG1fanNvbilcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBsbG1fbWFya2V0aW5nX3Byb21wdC5hcHBlbmQocHJvbXB0KVxuIiwKICAgICAgICAiICBsbG1fbWFya2V0aW5nX3Byb21wdF90ZXh0LmFwcGVuZChsbG1fcmVzcG9uc2UpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJyVkRZZXNhWGl0cGQiCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgQ3JlYXRlIHRoZSBIVE1MIGVtYWlsIG1lc3NhZ2Ugd2Ugd2lsbCBzZW5kIHRvIG91ciBjdXN0b21lcnNcbiIsCiAgICAgICAgIi0gV2UgZG8gbm90IGtub3cgaHRtbFxuIiwKICAgICAgICAiLSBBbHNvLCBpdCB3b3VsZCBiZSBuaWNlIHRvIGJhc2U2NCBlbmNvZGUgdGhlIGltYWdlIGludG8gdGhlIHN0eWxlc2hlZXQiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogInhOMDNEM2VzdUZsXyIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiaW1hZ2VCYXNlNjQgPSBjb252ZXJ0X3BuZ190b19iYXNlNjQoaGlnaGVzdF9yYXRlZF9sbG1faW1hZ2VfZmlsZW5hbWUpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgImZvciBpdGVtIGluIGxsbV9tYXJrZXRpbmdfY2FtcGFpZ246XG4iLAogICAgICAgICIgIHByaW50IChmJ0NpdHk6ICAgIHtpdGVtW1wiY2l0eVwiXX0nKVxuIiwKICAgICAgICAiICBwcmludCAoZidTdWJqZWN0OiB7aXRlbVtcInN1YmplY3RcIl19JylcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBwcm9tcHQ9ZlwiXCJcIkNvbnZlcnQgdGhlIGJlbG93IHRleHQgaW50byBhIHdlbGwtc3RydWN0dXJlZCBIVE1MIGRvY3VtZW50LlxuIiwKICAgICAgICAiUmVmcmFpbiBmcm9tIHVzaW5nIDxoMT4sIDxoMj4sIDxoMz4sIGFuZCA8aDQ+IHRhZ3MuXG4iLAogICAgICAgICJDcmVhdGUgaW5saW5lIHN0eWxlcy5cbiIsCiAgICAgICAgIk1ha2UgdGhlIHN0eWxlcyBmdW4sIGV5ZSBjYXRjaGluZyBhbmQgZXhjaXRpbmcuXG4iLAogICAgICAgICJVc2UgXCJIZWx2ZXRpY2EgTmV1ZVwiIGFzIHRoZSBmb250LlxuIiwKICAgICAgICAiQWxsIHRleHQgc2hvdWxkIGJlIGxlZnQgYWxpZ25lZC5cbiIsCiAgICAgICAgIkF2b2lkIGZvbnRzIGxhcmdlciB0aGFuIDE2IHBpeGVscy5cbiIsCiAgICAgICAgIkRvIG5vdCBjaGFuZ2UgdGhlIGxhbmd1YWdlLiAgS2VlcCB0aGUgdGV4dCBpbiB0aGUgbmF0aXZlIGxhbmd1YWdlLlxuIiwKICAgICAgICAiRG8gbm90IGluY2x1ZGUgYW55IG5vdGVzLCBvbmx5IGdlbmVyYXRlIHRoZSBIVE1MLlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJJbmNsdWRlIHRoZSBmb2xsb3dpbmcgaW1hZ2UgaW4gdGhlIGh0bWw6XG4iLAogICAgICAgICItIFRoZSBpbWFnZSBpcyBsb2NhdGVkIGF0OiBodHRwczovL1JFUExBQ0VfTUVcbiIsCiAgICAgICAgIi0gVGhlIGltYWdlIHVybCBzaG91bGQgaGF2ZSBhIFwid2lkdGhcIiBvZiA1MDAgYW5kIFwiaGVpZ2h0XCIgb2YgNTAwLlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJEb3VibGUgY2hlY2sgdGhhdCB5b3UgZGlkIG5vdCB1c2UgYW55IDxoMT4sIDxoMj4sIDxoMz4sIG9yIDxoND4gdGFncy5cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiVGV4dDpcbiIsCiAgICAgICAgIntpdGVtW1wiYm9keVwiXX1cbiIsCiAgICAgICAgIlwiXCJcIlxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICMgVGhlIExMTSBjYW4gZ2VuZXJhdGUgc29tZSBIVE1MIHRhZ3MgdGhhdCBjYW4gY2F1c2UgaXNzdWVzIHdoZW4gcGFyc2luZyB0aGUgcmVzdWx0XG4iLAogICAgICAgICIgIGxsbV9zdWNjZXNzID0gRmFsc2VcbiIsCiAgICAgICAgIiAgdGVtcGVyYXR1cmUgPSAuNVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHdoaWxlIGxsbV9zdWNjZXNzID09IEZhbHNlOlxuIiwKICAgICAgICAiICAgIHRyeTpcbiIsCiAgICAgICAgIiAgICAgIGxsbV9yZXNwb25zZSA9IEdlbWluaVByb0xMTShwcm9tcHQsIHRlbXBlcmF0dXJlPXRlbXBlcmF0dXJlLCB0b3BQPS41LCB0b3BLID0gMjApXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAgIGlmIGxsbV9yZXNwb25zZS5zdGFydHN3aXRoKFwiaHRtbFwiKTpcbiIsCiAgICAgICAgIiAgICAgICAgbGxtX3Jlc3BvbnNlID0gbGxtX3Jlc3BvbnNlWzQ6XSAjIGluY2FzZSB0aGUgcmVzcG9uc2UgaXMgZm9ybWF0dGVkIGxpa2UgbWFya2Rvd25cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgICAgIyBSZXBsYWNlIHRoZSBpbWFnZSB3aXRoIGFuIGlubGluZSBpbWFnZSAodGhpcyBhdm9pZHMgYSBTaWduZWRVUkwgb3IgcHVibGljIGFjY2VzcyB0byBHQ1MgYnVja2V0KVxuIiwKICAgICAgICAiICAgICAgaHRtbF90ZXh0ID0gbGxtX3Jlc3BvbnNlLnJlcGxhY2UoXCJodHRwczovL1JFUExBQ0VfTUVcIiwgZlwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCB7aW1hZ2VCYXNlNjR9XCIpXG4iLAogICAgICAgICIgICAgICBpdGVtW1wiaHRtbFwiXSA9IGh0bWxfdGV4dFxuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgICAgICAjcHJpbnQgKGYnSHRtbDogICAge2l0ZW1bXCJodG1sXCJdfScpXG4iLAogICAgICAgICIgICAgICBmaWxlbmFtZT0gc3RyKGl0ZW1bXCJjaXR5XCJdKS5yZXBsYWNlKFwiIFwiLFwiLVwiKSArIFwiLmh0bWxcIlxuIiwKICAgICAgICAiICAgICAgd2l0aCBvcGVuKGZpbGVuYW1lLCBcIndcIiwgZW5jb2Rpbmc9J3V0ZjgnKSBhcyBmOlxuIiwKICAgICAgICAiICAgICAgICBmLndyaXRlKGl0ZW1bXCJodG1sXCJdKVxuIiwKICAgICAgICAiICAgICAgcHJpbnQgKFwiXCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICAgIGxsbV9zdWNjZXNzID0gVHJ1ZVxuIiwKICAgICAgICAiICAgICAgbGxtX21hcmtldGluZ19wcm9tcHRfaHRtbC5hcHBlbmQocHJvbXB0KVxuIiwKICAgICAgICAiICAgICAgbGxtX21hcmtldGluZ19wcm9tcHRfaHRtbF90ZXh0LmFwcGVuZChodG1sX3RleHQpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgICBleGNlcHQ6XG4iLAogICAgICAgICIgICAgICAjIFJlZHVjZSB0aGUgdGVtcGVyYXR1cmUgZm9yIG1vcmUgYWNjdXJhdGUgZ2VuZXJhdGlvblxuIiwKICAgICAgICAiICAgICAgdGVtcGVyYXR1cmUgPSB0ZW1wZXJhdHVyZSAtIC4wNVxuIiwKICAgICAgICAiICAgICAgcHJpbnQoXCJSZWdlbmVyYXRpbmcuLi5cIilcbiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiSnU2aUZ4SWN3QnNYIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJIVE1MKGZpbGVuYW1lPXN0cihcIk5ldyBZb3JrIENpdHlcIikucmVwbGFjZShcIiBcIixcIi1cIikgKyBcIi5odG1sXCIpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJDSWlfaHBxLWpxTzUiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIkhUTUwoZmlsZW5hbWU9c3RyKFwiTG9uZG9uXCIpLnJlcGxhY2UoXCIgXCIsXCItXCIpICsgXCIuaHRtbFwiKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiLU9DUVpkYU9rbm02IgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJIVE1MKGZpbGVuYW1lPXN0cihcIlRva3lvXCIpLnJlcGxhY2UoXCIgXCIsXCItXCIpICsgXCIuaHRtbFwiKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiTlBoR1lzWWh2Y1M5IgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICJIVE1MKGZpbGVuYW1lPXN0cihcIlNhbiBGcmFuY2lzY29cIikucmVwbGFjZShcIiBcIixcIi1cIikgKyBcIi5odG1sXCIpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogIm1hcmtkb3duIiwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJkMkV1SGt3XzBtNHoiCiAgICAgIH0sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMjIyMgU2F2ZSB0aGUgcmVzdWx0cyB0byBCaWdRdWVyeSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImNlbGxfdHlwZSI6ICJjb2RlIiwKICAgICAgImV4ZWN1dGlvbl9jb3VudCI6IG51bGwsCiAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAiaWQiOiAiOVdYazRfc01MNDFvIgogICAgICB9LAogICAgICAib3V0cHV0cyI6IFtdLAogICAgICAic291cmNlIjogWwogICAgICAgICIlJWJpZ3F1ZXJ5XG4iLAogICAgICAgICJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBgZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2UuZGF0YV9iZWFuc19jdXJhdGVkLm1hcmtldGluZ19nZW5fYWlfaW5zaWdodGBcbiIsCiAgICAgICAgIi0tQ1JFQVRFIE9SIFJFUExBQ0UgVEFCTEUgYGRhdGEtYmVhbnMtZGVtby1temJlbW1wOHNlLmRhdGFfYmVhbnNfY3VyYXRlZC5tYXJrZXRpbmdfZ2VuX2FpX2luc2lnaHRgIC0tIG9ubHkgdXNlIHRvIHJlcGxhY2UgdGhlIGVudGlyZSB0YWJsZVxuIiwKICAgICAgICAiKFxuIiwKICAgICAgICAiICAgIG1hcmtldGluZ19nZW5fYWlfaW5zaWdodF9pZCAgICBJTlRFR0VSICAgTk9UIE5VTEwgT1BUSU9OUyhkZXNjcmlwdGlvbj1cIlByaW1hcnkga2V5LlwiKSxcbiIsCiAgICAgICAgIiAgICBtYXJrZXRpbmdfZ2VuX2FpX2luc2lnaHRfdHlwZSAgU1RSSU5HICAgIE5PVCBOVUxMIE9QVElPTlMoZGVzY3JpcHRpb249XCJUaGUgdHlwZSBvZiBpbnNpZ2h0OiBXRUFUSEVSLCBFVkVOVCwgQ0FNUEFJR04sIFNPQ0lBTCwgV0FJVC1USU1FLCBTQUxFUywgVklERU8tQUlcIiksXG4iLAogICAgICAgICIgICAgaW5zaWdodF9kYXRldGltZSAgICAgICAgICAgICAgIFRJTUVTVEFNUCBOT1QgTlVMTCBPUFRJT05TKGRlc2NyaXB0aW9uPVwiVGhlIGRhdGV0aW1lIG9mIHRoZSBHZW5BSSBpbnNpZ2h0LlwiKSxcbiIsCiAgICAgICAgIiAgICBhcHBsaWVzX3RvX2VudGl0eV90eXBlICAgICAgICAgU1RSSU5HICAgIE5PVCBOVUxMIE9QVElPTlMoZGVzY3JpcHRpb249XCJUaGUgdHlwZSBvZiBlbnRpdHkgdG8gd2hpY2ggdGhlIGluc2lnaHQgYXBwbGllczogQ29tcGFueSwgQ2l0eSwgVHJ1Y2ssIEN1c3RvbWVyXCIpLFxuIiwKICAgICAgICAiICAgIGFwcGxpZXNfdG9fZW50aXR5X2lkICAgICAgICAgICBJTlRFR0VSICAgTk9UIE5VTEwgT1BUSU9OUyhkZXNjcmlwdGlvbj1cIlRoZSBpZCAocHJpbWFyeSBrZXkpIG9mIGVudGl0eSB0byB3aGljaCB0aGUgaW5zaWdodCBhcHBsaWVzLlwiKSxcbiIsCiAgICAgICAgIiAgICBhcHBsaWVzX3RvX2VudGl0eV9uYW1lICAgICAgICAgU1RSSU5HICAgIE5PVCBOVUxMIE9QVElPTlMoZGVzY3JpcHRpb249XCJUaGUgbmFtZSB0byB3aGljaCB0aGUgaW5zaWdodCBhcHBsaWVzLlwiKSxcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICAgIHBpY3R1cmVfZGVzY3JpcHRpb24gICAgICAgICAgICBTVFJJTkcgICAgTk9UIE5VTEwgT1BUSU9OUyhkZXNjcmlwdGlvbj1cIlRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgaW1hZ2Ugd2Ugd2FudCB0byBnZW5lcmF0ZS5cIiksXG4iLAogICAgICAgICIgICAganNvbl9maWxlbmFtZSAgICAgICAgICAgICAgICAgIFNUUklORyAgICBOT1QgTlVMTCBPUFRJT05TKGRlc2NyaXB0aW9uPVwiVGhlIGxvY2F0aW9uIG9mIHRoZSBqc29uIGZpbGUgdGhhdCBob2xkcyBhbGwgdGhlIHByb21wdHMuXCIpLFxuIiwKICAgICAgICAiICAgIGh0bWxfZmlsZW5hbWUgICAgICAgICAgICAgICAgICBTVFJJTkcgICAgTk9UIE5VTEwgT1BUSU9OUyhkZXNjcmlwdGlvbj1cIlRoZSBsb2NhdGlvbiBvZiB0aGUgSFRNTCBmaWxlIGZvciB0aGUgbWFya2V0aW5nIGNhbXBhaWduLlwiKSxcbiIsCiAgICAgICAgIiAgICBzdWJqZWN0ICAgICAgICAgICAgICAgICAgICAgICAgU1RSSU5HICAgIE5PVCBOVUxMIE9QVElPTlMoZGVzY3JpcHRpb249XCJUaGUgZ2VuZXJhdGVkIHN1YmplY3QgbGluZSBmb3IgdGhlIG1hcmtldGluZyBjYW1wYWlnbi5cIiksXG4iLAogICAgICAgICIpXG4iLAogICAgICAgICJDTFVTVEVSIEJZIG1hcmtldGluZ19nZW5fYWlfaW5zaWdodF9pZDsiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogInBwN2wtVEI1WUROciIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWVcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiIyBHZXQgdGhlIGN1cnJlbnQgZGF0ZSBhbmQgdGltZVxuIiwKICAgICAgICAibm93ID0gZGF0ZXRpbWUubm93KClcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiIyBGb3JtYXQgdGhlIGRhdGUgYW5kIHRpbWUgYXMgZGVzaXJlZFxuIiwKICAgICAgICAiZm9ybWF0dGVkX2RhdGUgPSBub3cuc3RyZnRpbWUoXCIlWS0lbS0lZC0lSC0lTVwiKVxuIiwKICAgICAgICAiXG4iLAogICAgICAgICJwcmludChmb3JtYXR0ZWRfZGF0ZSkiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogImRNVi1vaEM5TWNvYyIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyBDb3B5IGFsbCBpbWFnZSBmaWxlcyB0byBzdG9yYWdlXG4iLAogICAgICAgICJmb3IgaXRlbSBpbiBpbWFnZV9maWxlczpcbiIsCiAgICAgICAgIiAgY29weV9maWxlX3RvX2djcyhpdGVtW1wibGxtX2ltYWdlX2ZpbGVuYW1lXCJdLGl0ZW1bXCJnY3Nfc3RvcmFnZV9idWNrZXRcIl0sIGl0ZW1bXCJnY3Nfc3RvcmFnZV9wYXRoXCJdICsgZm9ybWF0dGVkX2RhdGUgKyBcIi9JbWFnZW4yX1wiICsgaXRlbVtcImxsbV9pbWFnZV9maWxlbmFtZVwiXSkiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIkVjZTRBZFVGaTJWdiIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiY29weV9maWxlX3RvX2djcyhsbG1faHVtYW5faW1hZ2VfanNvbltcImxsbV9pbWFnZV9maWxlbmFtZVwiXSxsbG1faHVtYW5faW1hZ2VfanNvbltcImdjc19zdG9yYWdlX2J1Y2tldFwiXSwgbGxtX2h1bWFuX2ltYWdlX2pzb25bXCJnY3Nfc3RvcmFnZV9wYXRoXCJdICsgZm9ybWF0dGVkX2RhdGUgKyBcIi9JbWFnZW4yX2Jhc2ljX3Byb21wdF9cIiArIGl0ZW1bXCJsbG1faW1hZ2VfZmlsZW5hbWVcIl0pIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJjV3FVVlNrWFhPNUUiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIm1hcmtldGluZ19nZW5fYWlfaW5zaWdodF9pZCA9IEdldE5leHRQcmltYXJ5S2V5KFwiZGF0YS1iZWFucy1kZW1vLW16YmVtbXA4c2UuZGF0YV9iZWFuc19jdXJhdGVkLm1hcmtldGluZ19nZW5fYWlfaW5zaWdodFwiLFwibWFya2V0aW5nX2dlbl9haV9pbnNpZ2h0X2lkXCIpIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiY2VsbF90eXBlIjogImNvZGUiLAogICAgICAiZXhlY3V0aW9uX2NvdW50IjogbnVsbCwKICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICJpZCI6ICJwY25rX1M2eVhRQjgiCiAgICAgIH0sCiAgICAgICJvdXRwdXRzIjogW10sCiAgICAgICJzb3VyY2UiOiBbCiAgICAgICAgIiMgQ29weSB0aGUgaHRtbCBpbWFnZXNcbiIsCiAgICAgICAgImZvciBjaXR5X2luZGV4IGluIHJhbmdlKDAsIDQpOlxuIiwKICAgICAgICAiICBmaWxlbmFtZSA9IGNpdHlfbmFtZXNbY2l0eV9pbmRleF0ucmVwbGFjZShcIiBcIixcIi1cIikgKyBcIi5odG1sXCJcbiIsCiAgICAgICAgIiAgZmlsZV9kZXN0aW5hdGlvbl9uYW1lID0gZm9ybWF0dGVkX2RhdGUgKyBcIi9cIiArIHN0cihtYXJrZXRpbmdfZ2VuX2FpX2luc2lnaHRfaWQgKyBjaXR5X2luZGV4KSArIFwiLVwiICsgY2l0eV9uYW1lc1tjaXR5X2luZGV4XS5yZXBsYWNlKFwiIFwiLFwiLVwiKSArIFwiLmh0bWxcIlxuIiwKICAgICAgICAiICBjb3B5X2ZpbGVfdG9fZ2NzKGZpbGVuYW1lLGdjc19zdG9yYWdlX2J1Y2tldCwgZ2NzX3N0b3JhZ2VfcGF0aCArIGZpbGVfZGVzdGluYXRpb25fbmFtZSkiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogImlDWlBTZGt0RWlWMSIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiIyBPdXRwdXQgdGhlIGZ1bGwgSlNPTlxuIiwKICAgICAgICAiZm9yIGNpdHlfaW5kZXggaW4gcmFuZ2UoMCwgNCk6XG4iLAogICAgICAgICIgIGh0bWxfZmlsZW5hbWUgPSBcImdzOi8vXCIgKyBnY3Nfc3RvcmFnZV9idWNrZXQgKyBcIi9cIiArIGdjc19zdG9yYWdlX3BhdGggKyBmb3JtYXR0ZWRfZGF0ZSArIFwiL1wiICsgc3RyKG1hcmtldGluZ19nZW5fYWlfaW5zaWdodF9pZCArIGNpdHlfaW5kZXgpICsgXCItXCIgKyBjaXR5X25hbWVzW2NpdHlfaW5kZXhdLnJlcGxhY2UoXCIgXCIsXCItXCIpICsgXCIuaHRtbFwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAganNvbl9wYXlsb2FkID0ge1xuIiwKICAgICAgICAiICAgICAgXCJsbG1faHVtYW5faW1hZ2VfcHJvbXB0XCIgOiBsbG1faHVtYW5faW1hZ2VfcHJvbXB0LFxuIiwKICAgICAgICAiICAgICAgXCJsbG1faHVtYW5faW1hZ2VfanNvblwiIDogbGxtX2h1bWFuX2ltYWdlX2pzb24sXG4iLAogICAgICAgICIgICAgICBcImxsbV9nZW5lcmF0ZWRfaW1hZ2VfcHJvbXB0XCIgOiBsbG1fZ2VuZXJhdGVkX2ltYWdlX3Byb21wdCxcbiIsCiAgICAgICAgIiAgICAgIFwibGxtX2dlbmVyYXRlZF9pbWFnZV9qc29uXCIgOiBsbG1fZ2VuZXJhdGVkX2ltYWdlX2pzb24sXG4iLAogICAgICAgICIgICAgICBcImxsbV92YWxpZGF0ZWRfaW1hZ2VfcHJvbXB0XCIgOiBsbG1fdmFsaWRhdGVkX2ltYWdlX3Byb21wdCxcbiIsCiAgICAgICAgIiAgICAgIFwibGxtX3ZhbGlkYXRlZF9pbWFnZV9qc29uXCIgOiBsbG1fdmFsaWRhdGVkX2ltYWdlX2pzb24sXG4iLAogICAgICAgICIgICAgICBcImxsbV90YXN0ZV90ZXN0X2ltYWdlX3Byb21wdFwiIDogbGxtX3Rhc3RlX3Rlc3RfaW1hZ2VfcHJvbXB0LFxuIiwKICAgICAgICAiICAgICAgXCJsbG1fdGFzdGVfdGVzdF9pbWFnZV9qc29uXCIgOiBsbG1fdGFzdGVfdGVzdF9pbWFnZV9qc29uLFxuIiwKICAgICAgICAiICAgICAgXCJsbG1fbWFya2V0aW5nX3Byb21wdFwiIDogbGxtX21hcmtldGluZ19wcm9tcHRbY2l0eV9pbmRleF0sXG4iLAogICAgICAgICIgICAgICBcImxsbV9tYXJrZXRpbmdfcHJvbXB0X3RleHRcIiA6IGxsbV9tYXJrZXRpbmdfcHJvbXB0X3RleHRbY2l0eV9pbmRleF0sXG4iLAogICAgICAgICIgICAgICBcImxsbV9tYXJrZXRpbmdfcHJvbXB0X2h0bWxcIiA6IGxsbV9tYXJrZXRpbmdfcHJvbXB0X2h0bWxbY2l0eV9pbmRleF0sXG4iLAogICAgICAgICIgICAgICBcImxsbV9tYXJrZXRpbmdfcHJvbXB0X2h0bWxfZmlsZW5hbWVcIiA6IGh0bWxfZmlsZW5hbWUsXG4iLAogICAgICAgICIgIH1cbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBqc29uX2ZpbGVuYW1lID0gc3RyKG1hcmtldGluZ19nZW5fYWlfaW5zaWdodF9pZCArIGNpdHlfaW5kZXgpICsgXCItXCIgKyBjaXR5X25hbWVzW2NpdHlfaW5kZXhdLnJlcGxhY2UoXCIgXCIsXCItXCIpICsgXCIuanNvblwiXG4iLAogICAgICAgICIgIHdpdGggb3Blbihqc29uX2ZpbGVuYW1lLCBcIndcIikgYXMgZjpcbiIsCiAgICAgICAgIiAgICBmLndyaXRlKGpzb24uZHVtcHMoanNvbl9wYXlsb2FkLCBpbmRlbnQ9MykpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgY29weV9maWxlX3RvX2djcyhqc29uX2ZpbGVuYW1lLGdjc19zdG9yYWdlX2J1Y2tldCwgZ2NzX3N0b3JhZ2VfcGF0aCArIGZvcm1hdHRlZF9kYXRlICsgXCIvXCIgK2pzb25fZmlsZW5hbWUpXG4iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJjZWxsX3R5cGUiOiAiY29kZSIsCiAgICAgICJleGVjdXRpb25fY291bnQiOiBudWxsLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgImlkIjogIjFQWE9PM01qVlgxeiIKICAgICAgfSwKICAgICAgIm91dHB1dHMiOiBbXSwKICAgICAgInNvdXJjZSI6IFsKICAgICAgICAiZm9yIGNpdHlfaW5kZXggaW4gcmFuZ2UoMCwgNCk6XG4iLAogICAgICAgICIgIHByaW50KGZcIlByb2Nlc3NpbmcgY2l0eToge2NpdHlfbmFtZXNbY2l0eV9pbmRleF19XCIpXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAganNvbl9maWxlbmFtZSA9IFwiZ3M6Ly9cIiArIGdjc19zdG9yYWdlX2J1Y2tldCArIFwiL1wiICsgXFxcbiIsCiAgICAgICAgIiAgICBnY3Nfc3RvcmFnZV9wYXRoICsgZm9ybWF0dGVkX2RhdGUgKyBcIi9cIiArc3RyKG1hcmtldGluZ19nZW5fYWlfaW5zaWdodF9pZCkgKyAnLScgKyBzdHIoY2l0eV9pZHNbY2l0eV9pbmRleF0pICsgXCItXCIgKyBjaXR5X25hbWVzW2NpdHlfaW5kZXhdLnJlcGxhY2UoXCIgXCIsXCItXCIpICsgXCIuanNvblwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgaHRtbF9maWxlbmFtZSA9IFwiZ3M6Ly9cIiArIGdjc19zdG9yYWdlX2J1Y2tldCArIFwiL1wiICsgXFxcbiIsCiAgICAgICAgIiAgICBnY3Nfc3RvcmFnZV9wYXRoICsgZm9ybWF0dGVkX2RhdGUgKyBcIi9cIiArc3RyKG1hcmtldGluZ19nZW5fYWlfaW5zaWdodF9pZCkgKyAnLScgKyBzdHIoY2l0eV9pZHNbY2l0eV9pbmRleF0pICsgXCItXCIgKyBjaXR5X25hbWVzW2NpdHlfaW5kZXhdLnJlcGxhY2UoXCIgXCIsXCItXCIpICsgXCIuaHRtbFwiXG4iLAogICAgICAgICJcbiIsCiAgICAgICAgIiAgc3ViamVjdCA9IFwiXCJcbiIsCiAgICAgICAgIiAgZm9yIGl0ZW0gaW4gbGxtX21hcmtldGluZ19jYW1wYWlnbjpcbiIsCiAgICAgICAgIiAgICBpZiBpdGVtW1wiY2l0eVwiXSA9PSBjaXR5X25hbWVzW2NpdHlfaW5kZXhdOlxuIiwKICAgICAgICAiICAgICAgc3ViamVjdCA9IGl0ZW1bXCJzdWJqZWN0XCJdXG4iLAogICAgICAgICIgICAgICBicmVha1xuIiwKICAgICAgICAiXG4iLAogICAgICAgICIgIHBpY3R1cmVfZGVzY3JpcHRpb25fc3RyaW5nID0gcGljdHVyZV9kZXNjcmlwdGlvbi5yZXBsYWNlKFwiJ1wiLFwiXFwnXCIpXG4iLAogICAgICAgICIgIHN1YmplY3Rfc3RyaW5nID0gc3ViamVjdC5yZXBsYWNlKFwiJ1wiLFwiXFxcXCdcIilcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBzcWw9ZlwiXCJcIklOU0VSVCBJTlRPIGBkYXRhLWJlYW5zLWRlbW8tbXpiZW1tcDhzZS5kYXRhX2JlYW5zX2N1cmF0ZWQubWFya2V0aW5nX2dlbl9haV9pbnNpZ2h0YFxuIiwKICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgIChtYXJrZXRpbmdfZ2VuX2FpX2luc2lnaHRfaWQsIG1hcmtldGluZ19nZW5fYWlfaW5zaWdodF90eXBlLCBpbnNpZ2h0X2RhdGV0aW1lLFxuIiwKICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgIGFwcGxpZXNfdG9fZW50aXR5X3R5cGUsIGFwcGxpZXNfdG9fZW50aXR5X2lkLCBhcHBsaWVzX3RvX2VudGl0eV9uYW1lLFxuIiwKICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgIHBpY3R1cmVfZGVzY3JpcHRpb24sIGpzb25fZmlsZW5hbWUsIGh0bWxfZmlsZW5hbWUsIHN1YmplY3QpXG4iLAogICAgICAgICIgICAgICAgICAgICAgIFZBTFVFUyAoe21hcmtldGluZ19nZW5fYWlfaW5zaWdodF9pZH0sICdNQVJLRVRJTkctRU1BSUwnLCBDVVJSRU5UX1RJTUVTVEFNUCgpLFxuIiwKICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICdDSVRZJywge2NpdHlfaWRzW2NpdHlfaW5kZXhdfSwgJ3tjaXR5X25hbWVzW2NpdHlfaW5kZXhdfScsXG4iLAogICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgJ3twaWN0dXJlX2Rlc2NyaXB0aW9uX3N0cmluZ30nLCAne2pzb25fZmlsZW5hbWV9JywgJ3todG1sX2ZpbGVuYW1lfScsICd7c3ViamVjdF9zdHJpbmd9JylcIlwiXCJcbiIsCiAgICAgICAgIlxuIiwKICAgICAgICAiICBwcmludChzcWwpXG4iLAogICAgICAgICIgIFJ1blF1ZXJ5KHNxbClcbiIsCiAgICAgICAgIiAgbWFya2V0aW5nX2dlbl9haV9pbnNpZ2h0X2lkID0gbWFya2V0aW5nX2dlbl9haV9pbnNpZ2h0X2lkICsgMVxuIgogICAgICBdCiAgICB9CiAgXSwKICAibWV0YWRhdGEiOiB7CiAgICAiY29sYWIiOiB7CiAgICAgICJjb2xsYXBzZWRfc2VjdGlvbnMiOiBbCiAgICAgICAgIms2ZUlxZXJGT3p5aiIsCiAgICAgICAgIjh6eTBlRUptSHhSWiIsCiAgICAgICAgIll0WnVGZ2piT2pzbyIsCiAgICAgICAgInhVb2xQc01GT2pwWiIsCiAgICAgICAgIkU1Q0ZTZEszSHhZbSIsCiAgICAgICAgIi1MOTN1ZHRySDFPeiIsCiAgICAgICAgInJWQ1k5M0l5WFBvTyIKICAgICAgXSwKICAgICAgIm5hbWUiOiAiQmlnUXVlcnkgdGFibGUiLAogICAgICAicHJpdmF0ZV9vdXRwdXRzIjogdHJ1ZSwKICAgICAgInByb3ZlbmFuY2UiOiBbXQogICAgfSwKICAgICJrZXJuZWxzcGVjIjogewogICAgICAiZGlzcGxheV9uYW1lIjogIlB5dGhvbiAzIiwKICAgICAgIm5hbWUiOiAicHl0aG9uMyIKICAgIH0sCiAgICAibGFuZ3VhZ2VfaW5mbyI6IHsKICAgICAgIm5hbWUiOiAicHl0aG9uIgogICAgfQogIH0sCiAgIm5iZm9ybWF0IjogNCwKICAibmJmb3JtYXRfbWlub3IiOiAwCn0K"}}}}